<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SPARQL Queries :: TED Developer Documentation</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/SWS/sample_app/sparql_queries.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/custom.css">
    <link rel="stylesheet" href="../../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../_/img/icons/favicon-16x16.png">
    <link rel="manifest" href="../../_/img/icons/site.webmanifest">
    <link rel="mask-icon" href="../../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="9zNtA8Mxo6eMk-CIvQQbCvXFWjOoAHT6phYIK3saIV4" />
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://docs.ted.europa.eu">
                <img src="../../_/img/ted-logo.svg" class="logo" />
                <span class="navbar-title">TED Developer Documentation</span>
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="https://docs.ted.europa.eu">Home</a>
                <div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Products</a>
  <div class="navbar-dropdown">
      <a class="navbar-item" href="../../eforms/latest/index.html">eForms SDK</a>
      <a class="navbar-item" href="../../EPO/latest/index.html">eProcurement Ontology</a>
      <a class="navbar-item" href="../../ESPD-EDM/latest/index.html">ESPD EDM</a>
  </div>
</div>


<div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Resources</a>
  <div class="navbar-dropdown">
    <!-- <div class="navbar-item"><b>Publications Ofiice</b></div> -->
    <a class="navbar-item" href="https://github.com/OP-TED/eForms-SDK">eForms SDK on Github</a>
    <a class="navbar-item" href="https://simap.ted.europa.eu/web/simap/eforms">eForms on SIMAP</a>
    <a class="navbar-item" href="https://github.com/eprocurementontology/eprocurementontology">eProcurement
      Ontology</a>
    <a class="navbar-item" href="https://github.com/espd/espd-edm">European Single Procurement Document</a>
    <a class="navbar-item" href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tables">eProcurement in
      EU Vocabularies</a>
    <hr class="navbar-divider">
    <!-- <div class="navbar-item"><b>DG GROW</b></div>-->
    <a class="navbar-item" href="https://ec.europa.eu/growth/single-market/public-procurement/digital/eforms_en">About
      eForms</a>
    <!-- <a class="navbar-item" href="https://github.com/eForms/eForms">eForms 2nd consultation</a> -->
  </div>
</div>

<a class="navbar-item" href="https://simap.ted.europa.eu/contact">Helpdesk</a>

                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="SWS" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">TED Semantic Web Service</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../audience.html">Target Audience</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Mapping suite contents</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../genref.html">General Reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/methodology.html">Methodology</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/repository-structure.html">Repository structure</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/index.html">Mapping suites</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/mapping-suite-structure.html">Mapping suite package structure</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/code-list-resources.html">Code list mappings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/preparing-test-data.html">Data samples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/toolchain.html">Toolchain</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Reusing semantic web service artefacts</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sa_glossary.html">Glossary</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="sparql_queries.html">SPARQL Queries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ms_excel.html">MS Excel</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="jupyter_notebook_r.html">Jupyter Notebook - R</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="jupyter_notebook_python.html">Jupyter Notebook - Python</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Reference</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../mapping_suite/versioning.html">Versioning</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
      <div class="context">
          <span class="title dim">Select a product/version</span>
          <span class="version">&nbsp;</span>
      </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../../eforms/latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../eforms/latest/index.html">1.11.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.10/index.html">1.10</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.9/index.html">1.9</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.8/index.html">1.8</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.7/index.html">1.7</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.6/index.html">1.6</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.5/index.html">1.5</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.4/index.html">1.4</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version">
              <a href="../../EPO/4.1/index.html">4.1.0-rc.2</a>
            </li>
            <li class="version is-latest">
              <a href="../../EPO/latest/index.html">4.0.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/3.1/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/1.0.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../ESPD-EDM/latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../ESPD-EDM/latest/index.html">3.3.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/3.2.0/index.html">3.2.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/3.1.0/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/2.1.1/index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/2.1.0/index.html">2.1.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">TED Semantic Web Service</a></li>
    <li><a href="sparql_queries.html">SPARQL Queries</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="6">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">SPARQL Queries</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the context of TED-SWS, SPARQL queries can be used to query the data of notices published in RDF by the Publications Office.  These queries can be made on the
<a href="https://publications.europa.eu/webapi/rdf/sparql">SPARQL end point</a> available in EU Vocabularies</p>
</div>
<div class="paragraph">
<p>SPARQL stands for "SPARQL Protocol and RDF Query Language". SPARQL queries retrieve and manipulate data stored in RDF (Resource Description Framework) format.  It allows users to write complex queries to retrieve specific information from RDF datasets.</p>
</div>
<div class="paragraph">
<p>The data available covers Contract Award Notices published after 28/08/2023. Data on eForm Result notices are not yet available.</p>
</div>
<div class="paragraph">
<p>A query is submitted to the SPARQL end point by replacing the text highlighted below in blue in the Query Text box below with the desired query:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/sparql.png" alt="SPARQL End Point">
</div>
<div class="title">Figure 1. End point user interface</div>
</div>
<div class="paragraph">
<p>The format of the result can be changed using the drop-down box of the Results format.</p>
</div>
<div class="paragraph">
<p>Once the query is in place, and the Results format chosen, the query can be run by pressing “Run Query”.</p>
</div>
<div class="paragraph">
<p>Below are some query examples:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_query_how_many_contractors_are_smes_for_a_given_country_and_given_date"><a class="anchor" href="#_query_how_many_contractors_are_smes_for_a_given_country_and_given_date"></a>Query: How many contractors are SMEs for a given country and given date ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>This SPARQL query aims to count the number of distinct procurement notices that meet specific criteria related to publication date, country code (Germany), and business size (SME).</p>
</div>
<div class="paragraph">
<p>The query retrieves:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The number of distinct procurement notices</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The notice publication date, organization country and organization size can be changed to create other queries. To do this, change the following section:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>VALUES (?NoticePublicationDate ?CountryCode ?BusinessSize) {
        ("20230905"
        &lt;http://publications.europa.eu/resource/authority/country/DEU&gt;
        &lt;http://publications.europa.eu/resource/authority/economic-operator-size/sme&gt;)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing value for publication date in example above:</p>
<div class="literalblock">
<div class="content">
<pre>"20230905"</pre>
</div>
</div>
</li>
<li>
<p>Existing value for organization country in example above:</p>
<div class="literalblock">
<div class="content">
<pre>&lt;http://publications.europa.eu/resource/authority/country/DEU&gt;</pre>
</div>
</div>
</li>
<li>
<p>Existing value for organization size in example above:</p>
<div class="literalblock">
<div class="content">
<pre>&lt;http://publications.europa.eu/resource/authority/economic-operator-size/sme&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_query_text"><a class="anchor" href="#_query_text"></a>Query text:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">PREFIX epo: &lt;http://data.europa.eu/a4g/ontology#&gt;
PREFIX cccev: &lt;http://data.europa.eu/m8g/&gt;
SELECT
(COUNT(DISTINCT ?Notice) as ?NrOfNotices)
WHERE {
    VALUES (?NoticePublicationDate ?CountryCode ?BusinessSize) {
            ("20230905"
            &lt;http://publications.europa.eu/resource/authority/country/DEU&gt;
            &lt;http://publications.europa.eu/resource/authority/economic-operator-size/sme&gt;)
    }
    ?Notice epo:hasPublicationDate ?NoticePublicationDate .
    ?Notice epo:announcesRole ?Winner .
    ?Winner a epo:Winner ;
            epo:playedBy ?Organization .
    ?Organization epo:hasBusinessSize ?BusinessSize .
    ?Organization cccev:registeredAddress / epo:hasCountryCode ?CountryCode .
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_query_which_notices_have_been_published_by_buyers_from_a_specific_country_for_a_given_date"><a class="anchor" href="#_query_which_notices_have_been_published_by_buyers_from_a_specific_country_for_a_given_date"></a>Query:  Which notices have been published by Buyers from a specific country for a given date ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>This SPARQL query retrieves information about contract award notices that have been published by buyers from Germany and published on TED on 05-09-2023.</p>
</div>
<div class="paragraph">
<p>The query retrieves:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The ID of the resource which contains the Notice ID</p>
</li>
<li>
<p>The URI of the organisation within the notice</p>
</li>
<li>
<p>The name of the buyer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It does so by specifying a set of values and then querying the RDF data based on those values. The query returns information about the notices, the organizations (buyers), and their legal names.</p>
</div>
<div class="paragraph">
<p>The publication date and organization country can be changed to create other queries. To do this, change the following section:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>VALUES (?PublicationDate ?countryCode) {
        ("20230905" &lt;http://publications.europa.eu/resource/authority/country/DEU&gt;)
}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing value for publication date in example above:</p>
<div class="literalblock">
<div class="content">
<pre>"20230905"</pre>
</div>
</div>
</li>
<li>
<p>Existing value for organization country in example above:</p>
<div class="literalblock">
<div class="content">
<pre>&lt;http://publications.europa.eu/resource/authority/country/DEU&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_query_text_2"><a class="anchor" href="#_query_text_2"></a>Query text:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">PREFIX epo: &lt;http://data.europa.eu/a4g/ontology#&gt;
PREFIX cccev: &lt;http://data.europa.eu/m8g/&gt;
PREFIX org: &lt;http://www.w3.org/ns/org#&gt;
SELECT DISTINCT
?Notice
?Organization
?LegalName
WHERE {
    VALUES (?PublicationDate ?countryCode) {
            ("20230905" &lt;http://publications.europa.eu/resource/authority/country/DEU&gt;)
    }
    ?Notice epo:hasPublicationDate ?PublicationDate .
    ?Notice epo:announcesRole ?Buyer .
    ?Buyer a epo:Buyer ;
            epo:playedBy ?Organization .
    ?Organization cccev:registeredAddress / epo:hasCountryCode ?countryCode .
    ?Organization epo:hasLegalName ?LegalName .
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_query_who_are_the_winners_for_a_given_date"><a class="anchor" href="#_query_who_are_the_winners_for_a_given_date"></a>Query: Who are the winners for a given date ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>This SPARQL query aims to retrieve information about the winners of procurement lots for a specific date ("20230831" or 31-08-2023). It does so by specifying a value for the publication date, and then querying the RDF data based on that value. The query returns information about the lots, the organizations that won them, and details about the awarded amounts and currencies.</p>
</div>
<div class="paragraph">
<p>The query retrieves:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Winner Legal Name</p>
</li>
<li>
<p>Winner Country Code</p>
</li>
<li>
<p>Lot value awarded to winner</p>
</li>
<li>
<p>The currency of the awarded value</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The notice publication date and winner legal name language can be changed to create other queries. To do this, change the following section:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>VALUES ?NoticePublicationDate {
    "20230905"
}
FILTER(LANG(?WinnerLegalName) = 'en')</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing value for publication date in example above:</p>
<div class="literalblock">
<div class="content">
<pre>"20230905"</pre>
</div>
</div>
</li>
<li>
<p>Existing value for winner legal name language in example above:</p>
<div class="literalblock">
<div class="content">
<pre>'en'</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_query_text_3"><a class="anchor" href="#_query_text_3"></a>Query text:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">PREFIX epo: &lt;http://data.europa.eu/a4g/ontology#&gt;
PREFIX org: &lt;http://www.w3.org/ns/org#&gt;
PREFIX cccev: &lt;http://data.europa.eu/m8g/&gt;
SELECT DISTINCT
?WinnerLegalName
(SAMPLE(?WinnerCountryCode) as ?WinnereCountryCodeURI)
(SUM(?AwardedValue) as ?TotalAwardedValue)
(?AwardedValueCurrency as ?AwardedValueCurrencyURI)
WHERE {
    VALUES ?NoticePublicationDate {
        "20230905"
    }
    FILTER(LANG(?WinnerLegalName) = 'en')
    ?Notice a epo:Notice;
            epo:hasPublicationDate ?NoticePublicationDate ;
            epo:refersToLot ?Lot .
    ?LotAwardOutcome epo:describesLot ?Lot ;
                     epo:hasAwardedValue ?MonetaryValue ;
                     epo:comprisesTenderAwardOutcome ?TenderAwardOutcome.
    ?TenderAwardOutcome a epo:TenderAwardOutcome;
                        epo:indicatesAwardOfLotToWinner / epo:playedBy ?Winner.
    ?Winner a org:Organization;
            epo:hasLegalName ?WinnerLegalName .
    OPTIONAL {
        ?Winner cccev:registeredAddress / epo:hasCountryCode ?WinnerCountryCode.
    }
    ?MonetaryValue a epo:MonetaryValue;
                   epo:hasAmountValue ?AwardedValue;
                   epo:hasCurrency ?AwardedValueCurrency .
}
GROUP BY ?WinnerLegalName ?AwardedValueCurrency</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_query_which_is_the_highest_value_published_for_a_contract_award_for_a_given_date"><a class="anchor" href="#_query_which_is_the_highest_value_published_for_a_contract_award_for_a_given_date"></a>Query: Which is the highest value published for a contract award for a given date ?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>This SPARQL query aims to retrieve the procurement notice, its publication date, the corresponding lot, and the highest awarded amount along with the currency code for a specific date ("20230905" or 05-09-2023). It does so by specifying a value for the date and then querying the RDF data based on that value. The query returns the information in descending order of the awarded amount, with only the highest value being displayed.</p>
</div>
<div class="paragraph">
<p>The query retrieves:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Lot URI</p>
</li>
<li>
<p>The legal name of the winner</p>
</li>
<li>
<p>The winners country code as URI</p>
</li>
<li>
<p>Lot value awarded to winner</p>
</li>
<li>
<p>The currency of the awarded value</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The notice publication date and winner legal name language can be changed to create other queries. To do this, change the following section:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>VALUES (?NoticePublicationDate ?LotAwardedValueCurrency) {
    ("20230905" &lt;http://publications.europa.eu/resource/authority/currency/EUR&gt;)
}
FILTER(LANG(?WinnerLegalName) = 'en')</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Existing value for publication date in example above:</p>
<div class="literalblock">
<div class="content">
<pre>"20230905"</pre>
</div>
</div>
</li>
<li>
<p>Existing value for winner legal name language in example above:</p>
<div class="literalblock">
<div class="content">
<pre>'en'</pre>
</div>
</div>
</li>
<li>
<p>EXisting value for currency in example above:</p>
<div class="literalblock">
<div class="content">
<pre>&lt;http://publications.europa.eu/resource/authority/currency/EUR&gt;</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_query_text_4"><a class="anchor" href="#_query_text_4"></a>Query text:</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sparql hljs" data-lang="sparql">PREFIX epo: &lt;http://data.europa.eu/a4g/ontology#&gt;
PREFIX org: &lt;http://www.w3.org/ns/org#&gt;
PREFIX cccev: &lt;http://data.europa.eu/m8g/&gt;
SELECT
?LotURI
?WinnerLegalName
?WinnerCountryCode
?LotAwardedValue
?LotAwardedValueCurrency
WHERE {
    VALUES (?NoticePublicationDate ?LotAwardedValueCurrency) {
        ("20230905" &lt;http://publications.europa.eu/resource/authority/currency/EUR&gt;)
    }
    FILTER(LANG(?WinnerLegalName) = 'en')
    ?Notice epo:hasPublicationDate ?NoticePublicationDate ;
            epo:refersToLot ?LotURI .
    ?LotAwardOutcome epo:describesLot ?LotURI ;
                     epo:hasAwardedValue ?MonetaryValue ;
                     epo:comprisesTenderAwardOutcome ?TenderAwardOutcome.
    ?TenderAwardOutcome a epo:TenderAwardOutcome;
                        epo:indicatesAwardOfLotToWinner / epo:playedBy ?Winner.
    ?Winner a org:Organization;
            epo:hasLegalName ?WinnerLegalName .
    OPTIONAL {
        ?Winner cccev:registeredAddress / epo:hasCountryCode ?WinnerCountryCode.
    }
    ?MonetaryValue a epo:MonetaryValue;
                   epo:hasAmountValue ?LotAwardedValue;
                   epo:hasCurrency ?LotAwardedValueCurrency .
}
ORDER BY DESC(?LotAwardedValue)
LIMIT 1</code></pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>Any comments on the documentation?</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OP-TED/ted-rdf-docs/issues/new/choose">Click here to let us know</a></p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<footer class="footer">
    <div class=columns>
        <div>
  <p>The projects documented in this Developer Documentation Portal are developed and managed by the TED & EU Public Procurement Unit of the Publications Office of the European Union
  <br/>This page was built using a link:https://github.com/OP-TED/antora-eui[fork of the Antora default UI], which is licensed under the terms of the MPL-2.0 license.</p>
</div>
        <div>
            <h3>This website is managed by<h3>
                    <img src="../../_/img/op-logo-with-name.svg" class="logo" />
        </div>
    </div>
</footer>  </body>
</html>
