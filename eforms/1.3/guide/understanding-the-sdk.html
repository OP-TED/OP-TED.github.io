<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Understanding the eForms SDK :: TED Developer Documentation</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/eforms/latest/guide/understanding-the-sdk.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/custom.css">
    <link rel="stylesheet" href="../../../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/icons/favicon-16x16.png">
    <link rel="manifest" href="../../../_/img/icons/site.webmanifest">
    <link rel="mask-icon" href="../../../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="9zNtA8Mxo6eMk-CIvQQbCvXFWjOoAHT6phYIK3saIV4" />
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://docs.ted.europa.eu">
                <img src="../../../_/img/ted-logo.svg" class="logo" />
                <span class="navbar-title">TED Developer Documentation</span>
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="https://docs.ted.europa.eu">Home</a>
                <div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Products</a>
  <div class="navbar-dropdown">
      <a class="navbar-item" href="../../latest/index.html">eForms SDK</a>
      <a class="navbar-item" href="../../../EPO/latest/index.html">eProcurement Ontology</a>
      <a class="navbar-item" href="../../../ESPD-EDM/latest/index.html">ESPD EDM</a>
  </div>
</div>


<div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Resources</a>
  <div class="navbar-dropdown">
    <!-- <div class="navbar-item"><b>Publications Ofiice</b></div> -->
    <a class="navbar-item" href="https://github.com/OP-TED/eForms-SDK">eForms SDK on Github</a>
    <a class="navbar-item" href="https://simap.ted.europa.eu/web/simap/eforms">eForms on SIMAP</a>
    <a class="navbar-item" href="https://github.com/eprocurementontology/eprocurementontology">eProcurement
      Ontology</a>
    <a class="navbar-item" href="https://github.com/espd/espd-edm">European Single Procurement Document</a>
    <a class="navbar-item" href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tables">eProcurement in
      EU Vocabularies</a>
    <hr class="navbar-divider">
    <!-- <div class="navbar-item"><b>DG GROW</b></div>-->
    <a class="navbar-item" href="https://ec.europa.eu/growth/single-market/public-procurement/digital/eforms_en">About
      eForms</a>
    <!-- <a class="navbar-item" href="https://github.com/eForms/eForms">eForms 2nd consultation</a> -->
  </div>
</div>

<a class="navbar-item" href="https://simap.ted.europa.eu/contact">Helpdesk</a>

                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="eforms" data-version="1.3">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">eForms SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>General Reference</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../schema/index.html">eForms Specification</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/documents-forms-and-notices.html">Documents, forms &amp; notices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/notice-content.html">Notice content</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Elements</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../schema/schemas.html">Schemas</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../schema/notices-xml-structure.html">Notices XML structure</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../schema/notice-information.html">Notice information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../schema/procedure-lot-part-information.html">Procedure, Group of Lots, Lot &amp; Part related information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../schema/competition-results.html">Competition Results</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../schema/parties.html">Parties</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/change-notice.html">Change notice</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/contract-modification-notice.html">Contract Modification Notice</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/withheld-publication.html">Withheld publication of information</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/codelists-and-fields.html">Codelists and Fields</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/identifiers.html">Identifiers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/acronyms-and-abbreviations.html">Acronyms &amp; abbreviations</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/terms-and-definitions.html">Terms &amp; definitions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../schema/other-resources.html">Other Resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../reference/index.html">Metadata Reference</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/business-terms/index.html">Business Terms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/business-rules/index.html">Business Rules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reference/code-lists/index.html">Codelists</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>SDK Contents</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../fields/index.html">Field metadata</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../fields/xml-structure.html">XML Structure</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../codelists/index.html">Codelists</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../notice-types/index.html">Notice Types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../viewer-templates/index.html">View Templates</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../translations/index.html">Translations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../efx/index.html">EFX grammar</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../efx/expression-syntax.html">EFX expressions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../efx/template-syntax.html">EFX templates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../efx/transpiling-efx.html">Transpiling EFX</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Developer Guide</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Start Here</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="understanding-the-sdk.html">Understanding the SDK</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="sdk-glossary.html">SDK glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../versioning.html">SDK versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Working with the SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="notice-forms.html">Create the forms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="xml-generation.html">Generate XML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="visualisation.html">Visualise notices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="validation.html">Validate notices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="implementing-eforms-without-the-sdk.html">Working without the SDK</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Java Libraries</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../efx-toolkit/index.html">EFX Toolkit</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../eforms-core/index.html">eForms Core Library</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Sample Applications</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../notice-viewer/index.html">Notice Viewer (Java)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../notice-editor/index.html">Notice Editor (Java)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
      <div class="context">
          <span class="title">eForms SDK</span>
          <span class="version">1.3.2</span>
      </div>
  <ul class="components">
      <li class="component is-current">
        <a class="title" href="../../latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../latest/index.html">1.5.1</a>
            </li>
            <li class="version">
              <a href="../../1.4/index.html">1.4.1</a>
            </li>
            <li class="version is-current">
              <a href="../index.html">1.3.2</a>
            </li>
            <li class="version">
              <a href="../../1.2/index.html">1.2.1</a>
            </li>
            <li class="version">
              <a href="../../1.1/index.html">1.1.1</a>
            </li>
            <li class="version">
              <a href="../../1.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version">
              <a href="../../../EPO/3.1.1/index.html">3.1.1 ~dev</a>
            </li>
            <li class="version is-latest">
              <a href="../../../EPO/latest/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../../../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/1.0.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../ESPD-EDM/latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../ESPD-EDM/latest/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.1.1/index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.1.0/index.html">2.1.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">eForms SDK</a></li>
    <li><a href="understanding-the-sdk.html">Understanding the SDK</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.3.2</button>
  <div class="version-menu">
    <a class="version" href="../../latest/guide/understanding-the-sdk.html">1.5.1</a>
    <a class="version" href="../../1.4/guide/understanding-the-sdk.html">1.4.1</a>
    <a class="version is-current" href="understanding-the-sdk.html">1.3.2</a>
    <a class="version" href="../../1.2/guide/understanding-the-sdk.html">1.2.1</a>
    <a class="version" href="../../1.1/guide/understanding-the-sdk.html">1.1.1</a>
    <a class="version" href="../../1.0/guide/understanding-the-sdk.html">1.0.0</a>
  </div>
</div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Understanding the eForms SDK</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The eForms regulation mandates the creation and submission for publication of several different types of public procurement notices. An eForms application developer needs to create applications that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>allow a user to <strong>fill in</strong> the proper form for the type of notice they want to publish</p>
</li>
<li>
<p><strong>validate</strong> the data entered by the user to ensure they comply with eForms business rules</p>
</li>
<li>
<p><strong>save</strong> in eForms UBL/XML format the notice data entered by the user</p>
</li>
<li>
<p><strong>submit</strong> the XML for publication through an API</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, an eForms application developer may want to add to their application the ability to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>search</strong>, retrieve</p>
</li>
<li>
<p>and <strong>visualise</strong> published or draft notices.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_purpose_of_the_eforms_sdk"><a class="anchor" href="#_the_purpose_of_the_eforms_sdk"></a>The purpose of the eForms SDK</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The eForms SDK is an effort to model and formalise the eForms specification in a way that allows the Publications Office to manage change and mitigate its impact.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The premise is that the information systems of the Publications Office, together with the eForms applications of eSenders, form a large public procurement notification network, which needs to be functioning in unison and kept up-to-date with our evolving legal and business environment. To minimise the impact of change on this network, the idea is to allow the network to apply changes declaratively rather than programmatically (to the maximum extent possible).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The reason that the eForms SDK is being publicly shared with eForms application developers is to allow the developer community to capitalise on the work that is being done by the Publications Office for its own eForms implementation.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
As an application developer, you can choose to analyse the latest regulation and eForms schemas, study and code the various business rules and notice forms, and have the full freedom to model the eForms specification into your application as you think best fits your own purposes and particular business environment. This is of course a valid approach, although a "traditional application" requires several times the effort to create and maintain, compared to a "metadata-driven application". As long as you manage to create and submit valid notices, and  keep up with the changing business environment, any solution you choose for the implementation of eForms is valid.<br>
<br>
If you decide to implement eForms without using the eForms SDK, you can <a href="implementing-eforms-without-the-sdk.html" class="xref page">follow this link to get some guidance</a>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_deriving_a_technical_specification_from_the_eforms_regulation"><a class="anchor" href="#_deriving_a_technical_specification_from_the_eforms_regulation"></a>Deriving a Technical Specification from the eForms Regulation</h3>
<div class="paragraph">
<p>The eForms regulation is a legal document; not a technical specification. However, the regulation and its annexes define some high level technical requirements for the data that eForms notices should collect and publish. For example, they define specific Business Terms and associate them with specific data types. They also define certain business requirements on whether, for example, these Business Terms should be mandatory or optional or even forbidden in certain circumstances.</p>
</div>
<div class="paragraph">
<p>During the implementation of the regulation into an information system, we needed to address certain ambiguities that could not have been resolved by the regulation itself. One of the goals of the eForms SDK is to resolve these ambiguities in a formal way.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_impact_of_ublxml"><a class="anchor" href="#_the_impact_of_ublxml"></a>The impact of UBL/XML</h3>
<div class="paragraph">
<p>The choice of basing the implementation of the eForms regulation on UBL also places certain restrictions on the implementation choices. For example certain Business Terms defined by the regulation had to be introduced as extensions to UBL, whereas others were already defined by UBL and could be reused. One of the goals of the eForms SDK is to add a layer of abstraction on top of the eForms regulation as well as the UBL specification in such a way that would allow us to unify the two independent standardisation initiatives into one unambiguous implementation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_business_terms_vs_fields_codifying_the_xml_structure"><a class="anchor" href="#_business_terms_vs_fields_codifying_the_xml_structure"></a>Business Terms vs <strong><em>Fields</em></strong>: Codifying the XML Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Business Terms defined by the regulation are high level concepts. They are meant to classify different types of information. However the same Business Term might behave very differently depending on the context in which it is used. To resolve such ambiguities, the eForms SDK introduces the concept of a <strong><em>field</em></strong>. A Business Term is instantiated (represented) by different <strong><em>fields</em></strong> in different contexts.</p>
</div>
<div class="paragraph">
<p>Unlike a Business Term, a <strong><em>field</em></strong> can be associated with an XPath as it always represents a specific location in the notice XML file. A <strong><em>field</em></strong> can be associated with Business Rules because, unlike a Business Term, a <strong><em>field</em></strong> points to a specific location in the XML and therefore, its value can be located and validated.</p>
</div>
<div class="paragraph">
<p>Using the <strong><em>fields</em></strong> defined in the SDK, you can create an application that is agnostic of the specific XPath of each <strong><em>field</em></strong>.</p>
</div>
<div class="sect2">
<h3 id="_repeatability_fields_nodes"><a class="anchor" href="#_repeatability_fields_nodes"></a>Repeatability, <strong><em>Fields</em></strong> &amp; <strong><em>Nodes</em></strong></h3>
<div class="paragraph">
<p><strong><em>Fields</em></strong> correspond to Business Terms. They are therefore entities that contain actual data entered by the user. In XML terms, this means that <strong><em>fields</em></strong> point to leaf elements in the hierarchical XML structure.</p>
</div>
<div class="paragraph">
<p>The eForms regulation defines specific Business Terms as being repeatable. The actual XML specification however, which is based on UBL, does not allow certain XML elements that correspond to <strong><em>fields</em></strong> to be repeatable; in these cases, ancestor elements are repeatable. The introduction of the notion of <strong><em>fields</em></strong> is therefore not enough in order to construct the entire XML structure. This is why the notion of a <strong><em>node</em></strong> has been introduced.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_conceptual_model"><a class="anchor" href="#_the_conceptual_model"></a>The conceptual model</h3>
<div class="paragraph">
<p>Based on the short analysis presented above, the eForms SDK recognises the need to abstract and reconcile the high level requirements introduced by the eForms regulation with the low level implementation restrictions imposed by UBL into a conceptual model that allows us to recreate the physical structure of the notice data inside an XML file, while at the same time allowing us to remain at the conceptual level of the business domain.</p>
</div>
<div class="paragraph">
<p>This abstraction, termed for simplicity "the conceptual model", is based on the idea that an eForms notice is a hierarchical structure of <strong><em>nodes</em></strong> and <strong><em>fields</em></strong>. Each <strong><em>field</em></strong> has a parent <strong><em>node</em></strong>. All <strong><em>nodes</em></strong>, except the root <strong><em>node</em></strong>, also have a parent <strong><em>node</em></strong>. The location of each <strong><em>field</em></strong> and <strong><em>node</em></strong> is defined <strong>relative to its parent</strong> using XPath as the physical representation of notices in XML. A <strong><em>node</em></strong> can be repeatable, meaning that it can occur more than once within its parent <strong><em>node</em></strong>. A <strong><em>field</em></strong> can also be repeatable. Given the conceptual model, one can construct the XML file of a notice without considering at all which specific fields participate in it or what rules may or may not apply to them.</p>
</div>
<div class="paragraph">
<p>You can find the <strong>conceptual model</strong> in the <code>fields.json</code> file inside the <code>fields</code> folder of the eForms SDK. You can <a href="../../latest/fields/index.html" class="xref page">read more about it here</a>.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">What is the benefit of the conceptual model abstraction?</dt>
<dd>
<p>The conceptual model is the central component that enables us to create metadata-driven applications which are agnostic to business terms, eForms schema, notice forms and business rules. This allows us to  adapt to future changes in the eForms specification without having to modify our existing applications. By applying all changes declaratively (through the SDK) rather than programmatically, the impact of change is minimized.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notice_types_putting_a_fillable_form_on_the_screen"><a class="anchor" href="#_notice_types_putting_a_fillable_form_on_the_screen"></a>Notice Types: Putting a fillable form on the screen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first goal of an eForms application that creates and submits notices is, of course, to collect the notice data from the user. The eForms Regulation defines several different types of notice that can be created for different purposes.</p>
</div>
<div class="paragraph">
<p>To collect the data the appropriate form needs to be presented to the user. To allow an application to create a notice form dynamically, the eForms SDK introduces the notion of the <strong><em>notice-type-definition</em></strong>. A <strong><em>notice-type-definition</em></strong> file is provided for each different type of notice. The file format is JSON.</p>
</div>
<div class="paragraph">
<p>A <strong><em>notice-type-definition</em></strong> is a collection of <strong><em>input-fields</em></strong>, organized in a hierarchy of <strong><em>display-groups</em></strong>. This provides a <strong>visual structure</strong> for the notice. The visual structure cannot be the same as the physical structure used to store the data in an XML file because the visual structure needs to adhere to the concept of a notice from the perspective of the user that is filling in a notice form, rather than the perspective of normalised data storage in an XML file.</p>
</div>
<div class="paragraph">
<p>You can find the <strong><em>notice-type-definitions</em></strong> in JSON format, inside the <code>notice-types</code> folder in the eForms SDK. An index file providing metadata about each <strong><em>notice-type</em></strong> is also included in <code>notice-types/notice-types.json</code>. You can learn <a href="../../latest/notice-types/index.html" class="xref page">more about <strong><em>notice-type-definitions</em></strong> here</a>.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Why create the forms dynamically?</dt>
<dd>
<p>Hardcoding the forms did not seem like a good idea to us. Creating the forms dynamically allows us to make changes to the forms without having to modify our existing applications. By applying all changes declaratively (through the SDK) rather than programmatically, the impact of change is minimized.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_business_rules_validating_notices"><a class="anchor" href="#_business_rules_validating_notices"></a>Business Rules: Validating Notices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the central goals of the eForms regulation was to provide a foundation for increased data orientation and improved data quality in the public procurement notification process. Enforcing data quality controls through validation has also become a central component of the eForms implementation by the Publications Office.</p>
</div>
<div class="paragraph">
<p>To this end, a comprehensive set of Business Rules to which all submitted notices must adhere to is maintained and enforced through the TED Central Validation Service. These rules are applied to the XML files using the  Schematron validation engine.</p>
</div>
<div class="sect2">
<h3 id="_types_of_business_rules"><a class="anchor" href="#_types_of_business_rules"></a>Types of Business Rules</h3>
<div class="paragraph">
<p>There are several types of business rules.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Some business rules control the composition of XML notices. For example they verify whether a particular <strong><em>field</em></strong> is allowed to be used in a particular <strong><em>notice-type</em></strong>.</p>
</li>
<li>
<p>Other business rules verify that all mandatory <strong><em>fields</em></strong> have been filled in.</p>
</li>
<li>
<p>Business rules can also apply restrictions to the submitted values. For example some business rules are used to control the "shape" of text <strong><em>field</em></strong> values (using patterns), or the range of numeric <strong><em>field</em></strong> values.</p>
</li>
<li>
<p>Business rules are also used to restrict the possible values of one <strong><em>field</em></strong> in relation to the value entered in another <strong><em>field</em></strong>. We call these rules "co-constraints". Co-constraints may depend on the values of <strong><em>fields</em></strong> present within the same notice but they can also lookup and use <strong><em>field</em></strong> values submitted in other notices.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_business_rules_in_the_sdk"><a class="anchor" href="#_business_rules_in_the_sdk"></a>Business Rules in the SDK</h3>
<div class="paragraph">
<p>The eForms SDK tries to formalise the definition of what a business rule is, how it is expressed and what it can do.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each Business Rule applies to a <strong><em>field</em></strong>. This is the <strong><em>field</em></strong> that each rule tries to validate.</p>
</li>
<li>
<p>Every Business Rule is applicable to a specific <strong><em>notice-type</em></strong>.</p>
</li>
<li>
<p>Every Business Rule has a pre-condition associated with it. The rule only applies when the pre-condition is <code>true</code>.</p>
</li>
<li>
<p>Every Business Rule is associated with a Test. This Test is a logical operation that determines if the rule is satisfied or not.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A Business Rule is enforced by evaluating its Test. The Test is evaluated:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>only for instances of the <strong><em>field</em></strong> to which the rule applies</p>
</li>
<li>
<p>only in the <strong><em>notice-types</em></strong> to which the rule applies</p>
</li>
<li>
<p>only if the pre-condition evaluates to <code>true</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_validation_environments"><a class="anchor" href="#_validation_environments"></a>Validation Environments</h3>
<div class="paragraph">
<p>All Business Rules are enforced at the XML level by the Central Validation Service (TED CVS). Since TED CVS uses the Schematron validation engine, all Business Rules are formally expressed as Schematron rules for this validation environment.</p>
</div>
<div class="paragraph">
<p>However, the TED Central Validation Service is not the only validation environment in which business rules need to be executed and enforced.</p>
</div>
<div class="paragraph">
<p>Many Business Rules can also be useful in guiding the user while filling in their notice. For example a business rule that checks if a mandatory value has been supplied by the user while the user is filling in their form can improve user experience. Likewise, being able to evaluate co-constraints  while the user is filling in their form, would improve the user&#8217;s understanding of the information they are expected to provide depending on the values they are currently entering.</p>
</div>
<div class="paragraph">
<p>The eForms SDK therefore recognises the need for two distinct validation environments:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The environment of a form-filling tool</p>
</li>
<li>
<p>The environment of an XML validation service</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the environment of a form-filling tool, validation occurs while the user is still filling in their notice form. A complete notice XML file therefore is not yet available to the validation engine. As a result, the set of business rules that can be evaluated in such a validation environment is only the subset of rules which do not assume the presence of a fully formed notice. These rules are shared in the eForms SDK as constraints attached to each <strong><em>field</em></strong> (in <code>fields/fields.json</code>).</p>
</div>
<div class="paragraph">
<p>In the environment of a validation service, a fully formed notice XML file is being validated. In this environment all business rules can be applied. Since validation is always applied on XML in this scenario, the SDK assumes that validation will be based on XSLT (either directly or indirectly through a validation engine like Schematron).</p>
</div>
</div>
<div class="sect2">
<h3 id="_formal_expression_of_business_rules"><a class="anchor" href="#_formal_expression_of_business_rules"></a>Formal expression of Business Rules</h3>
<div class="paragraph">
<p>The eForms SDK recognises that a business rule should be made available for execution in different validation environments. To make this possible a formal representation of each business rule is necessary, in a form that is portable between different execution environments. For this portable formal representation, the eForms SDK introduces a domain specific language (DSL) for eForms, named "eForms Expression Language" (EFX).</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">What is the benefit of formalising business rules?</dt>
<dd>
<p>Business rules are originally expressed in plain English. For a validation engine to execute them however, they need to be expressed in a language specific to that validation engine. Formally expressing the business rules in EFX has the following concrete benefits:</p>
<div class="ulist">
<ul>
<li>
<p>Removes any and all ambiguity.</p>
</li>
<li>
<p>Allows us to verify the rules (through syntax checking and type checking).</p>
</li>
<li>
<p>Allows us to express the rules only once, but reuse them in any execution environment.</p>
</li>
<li>
<p>Allows you to reuse the rules.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_schematron_based_validation"><a class="anchor" href="#_schematron_based_validation"></a>Schematron based validation</h3>
<div class="paragraph">
<p>The TED Central Validation Service, as we discussed above, uses Schematron to validate submitted notice XML files. The <code>/schematrons</code> folder has been added to the SDK to provide to you full access to all the Schematron validation rules used by TED CVS.</p>
</div>
<div class="paragraph">
<p>Schematron rules essentially use an XSLT transformation to create the validation reports that TED CVS returns. Each rule applies to a specific <strong><em>context</em></strong> which is defined in XPath, and contains a number of <strong><em>assertions</em></strong> that test whether specific conditions are met. These conditions (<strong><em>tests</em></strong>) are also expressed in XPath.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As already discussed, these XPath expressions provided in the Schematron files are not maintained in XPath. Instead, they are maintained in EFX and translated to XPath automatically at the time a new version of the SDK is being generated.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_efx_grammar"><a class="anchor" href="#_the_efx_grammar"></a>The EFX Grammar</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As just discussed in the previous section, EFX was introduced to allow us to formally express the business rules in only one language, while retaining the ability to translate them to any other language as needed by each different application in the TED public procurement notification network.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Defining a new language involves the definition of its lexical and syntactical rules in an unambiguous way so that a processor for the new language can be created. A language processor is an application component that reads an expression (or program) written in that language, and either executes it directly, or translates it to an intermediate language which some other processor can execute.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To simplify the task of creating a parser for EFX and make it possible for anyone who wants to create their own EFX processor, we chose to define EFX using ANTLR4, which is a widely used parser generator. ANTLR4 takes as input the grammar of any language and generates a parser for that language ready for use in several target development platforms (Java, .NET etc.). Developers can then extend the generated parser in order to process EFX expressions (i.e. execute them or translate them to an other language that fits the systems they create).</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">What is a parser?</dt>
<dd>
<p>The task of breaking-down and recognising the instructions given in any computer language is called <strong><em>parsing</em></strong>, and it is the core activity of every language processor.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>The EFX grammar is included in the eForms SDK to ensure that applications always interpret EFX expressions using the correct version of the grammar.</p>
</div>
<div class="paragraph">
<p>Several resources included in the SDK depend on the EFX syntax:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EFX expressions are used to express constraints (in <code>fields/fields.json</code>).</p>
</li>
<li>
<p>EFX templates are used to define notice visualisation templates (in <code>view-templates</code> folder).</p>
</li>
<li>
<p>The Schematron rules (included in the <code>schematrons</code> folder) are also generated by translating EFX expressions to XPath.</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Why create EFX instead of using an existing language?</dt>
<dd>
<p>We considered using one of the available expression languages like SpEL. However we found that these languages were too generic and introduce unresolvable ambiguities in the formalisation of business rules. Using an existing non-domain-specific language would force us to introduce conventions and semantics that are outside the scope of the language itself.
Creating a domain specific language was therefore the best way to go. It is as open and as portable as any existing expression language, it gives us more control of its semantics and can be tailored to the needs of eForms as needed.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The EFX grammar can <strong>only</strong> change with new <strong>major versions</strong> of the SDK. Therefore it is guaranteed that the EFX syntax will remain the same across minor versions and patch releases of the eForms SDK. This, in turn, guaranties that no changes to EFX parsers will be needed across minor versions and patch releases of the SDK.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To learn more about EFX you can <a href="../../latest/efx/index.html" class="xref page">follow this link</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_view_templates"><a class="anchor" href="#_view_templates"></a>View Templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The obvious solution for rendering an XML notice in a form that can be read and shared by end-users, is to use a styling language built for XML. The eXtensible Stylesheet Language (<strong>XSL</strong>) was designed for this purpose and has become the de-facto standard since its introduction by W3C in 1999.</p>
</div>
<div class="paragraph">
<p>Although an XSL transformation (XSLT) would typically be enough to visualise a notice XML file in just about any target format, there is a problem that an XSLT-only solution would create in a scenario like ours. TED is a network of information systems that is comprised of several applications built independently by different organisations with different business and operational environments across all EU Member States. The problem with XSLT is that it fuses "style" with "form" and "logic" into one transformation. This is too restrictive for a scenario like the TED ecosystem because it would mean that all visualisations across all Member States would be either identical or not reusable.</p>
</div>
<div class="paragraph">
<p>What is needed therefore is a way of separating these three elements of any transformation (style, form and logic) in a way that allows us to share and reuse a common "logic" while being able to customise the "form" and "style" across applications and Member States. And this is where the idea of using templates comes in, because templates allow you to make this separation.</p>
</div>
<div class="paragraph">
<p>Having created EFX to cover the need of addressing (finding and retrieving the values of) <strong><em>fields</em></strong> in an XML file and using them to make calculations, we were in a position to separate the "logic" component from the transformation and fully encapsulate it in an EFX template. By making some basic assumptions about "form", an EFX template can be used to share the necessary information for visualising a notice XML file, while allowing substantial freedom to customise and embed the visualisations in different applications.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The assumption that EFX templates make about "form" is that a visualised notice is a text document with a hierarchical structure which arises from the need to arrange information in different notice sections and to group relevant information together under different levels of headings. EFX templates make no restrictions on what these elements would look like or how they should behave in different applications.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An EFX template is therefore a series of <strong><em>template rows</em></strong> that can be hierarchically nested as needed using indentation. Each row encapsulates all visualisation logic by providing two pieces of information:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"where to go" in the XML document. This is called the <strong><em>context</em></strong> and is needed by any XML processor (including XSLT) to maintain a current position in the XML document.</p>
</li>
<li>
<p>"what to display" on the screen. This is a combination of EFX expressions, label references (from <code>/translations</code>), and free text.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on EFX view templates you can <a href="../../latest/viewer-templates/index.html" class="xref page">follow this link</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_translations"><a class="anchor" href="#_translations"></a>Translations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During our effort to implement eForms at the Publications Office, we defined, collected and organised in the eForms SDK, all the different types of elements that comprise the eForms specification. We had defined conceptual  and visual model elements, formalized business rules, and so on. The need to clearly label these elements in all official EU languages was also one of our requirements for the implementation.</p>
</div>
<div class="paragraph">
<p>In this context, our goal was to identify all the terms that needed to be labelled, formalise the different types of labels that were needed for each type of term and centrally organise and manage this information so that it can be shared across all eForms applications.</p>
</div>
<div class="paragraph">
<p>The result of this work became the content of the <code>/translations</code> folder provided within the eForms SDK. The logic on which these translations are organised is quite simple:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every different type of element provided within the eForms SDK is labelled. We call these different types of elements "<strong><em>asset-types</em></strong>".</p>
</li>
<li>
<p>Every asset-type is assigned one or more labels from a standard, predefined set of labels. We call these <strong><em>label-types</em></strong>. For every <strong><em>asset-type</em></strong> we provide a <strong><em>name</em></strong>, <strong><em>description</em></strong> and <strong><em>hint</em></strong> label. We also provide some additional label types to cover some exceptional cases.</p>
</li>
<li>
<p>Each label has an identifier associated with it. These identifiers are designed so that a developer can "predict" (construct) the correct identifier of any label they need.<br></p>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>If you want to find the description of a specific <strong><em>field</em></strong> for example, you can figure out the label identifier by putting together the <strong><em>asset-type</em></strong>, <strong><em>label-type</em></strong> and <strong><em>asset-id</em></strong>. In the case of a field&#8217;s description the <strong><em>asset-type</em></strong> is <code>field</code>, the <strong><em>label-type</em></strong> is <code>description</code> and the <strong><em>asset-id</em></strong> is the identifier of the <strong><em>field</em></strong>.</p>
</div>
</div>
</div>
</li>
<li>
<p>Each label is assigned a text translated in all official EU languages. Using the label identifier and the language identifier you can retrieve and reuse any label provided in the eForms SDK.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To find out more about translations of procurement labels please <a href="../../latest/translations/index.html" class="xref page">follow this link</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_examples"><a class="anchor" href="#_examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Access to sample notices (often used as test data) during development is very helpful, and has been one of the topics that has caused many difficulties during our own implementation. The <code>/examples</code> folder has been added to the SDK to allow us to share with you examples of eForms notice XML files which we have also been using during our tests. We will be enriching the provided examples shared through the SDK as we create more notice XML files.</p>
</div>
<div class="paragraph">
<p>The <code>/examples/notices</code> folder also contains some notice XML files that are intentionally invalid and cannot successfully pass validation through the Central Validation Service (TED CVS). These examples are intended to point out errors and are accompanied by the relevant TED CVS validation reports (under <code>/examples/reports</code> folder).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you have any additional examples from which you think others can benefit, you are welcome to share them with us so that we can distribute them through future releases of the SDK. Use Github pull requests to submit any such suggestions for review and inclusion in the SDK.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_eforms_sdk_versioning"><a class="anchor" href="#_eforms_sdk_versioning"></a>eForms SDK versioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At the core of management, maintenance and evolution of the eForms specification sits the eForms SDK versioning scheme. It is so crucial because it provides a framework for channelling as well as managing change.</p>
</div>
<div class="paragraph">
<p>The basic premise of the SDK version numbering is that all changes fall into one of the following three categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Changes that require adaptations in metadata-driven applications.</p>
<div class="ulist">
<ul>
<li>
<p>Indicated by changing the <strong><em>major</em></strong> version number of the SDK.</p>
</li>
<li>
<p>Impact: All applications are impacted.</p>
</li>
<li>
<p>Handling: A new version of your application adds support for the new SDK.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Changes that affect notice validation results.</p>
<div class="ulist">
<ul>
<li>
<p>Indicated by changing the <strong><em>minor</em></strong> version number of the SDK.</p>
</li>
<li>
<p>Impact: No impact for metadata-driven applications.</p>
</li>
<li>
<p>Handling: Added as a new separate version to the pool of SDK versions available to the application.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Every other change.</p>
<div class="ulist">
<ul>
<li>
<p>Indicated by changing the <strong><em>revision</em></strong> (<em>patch</em>) number of the SDK.</p>
</li>
<li>
<p>Impact: No impact for metadata-driven applications.</p>
</li>
<li>
<p>Handling: Replaces previous revision.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Make sure you read the <a href="../../latest/versioning.html" class="xref page"><strong>eForms SDK Versioning</strong></a> page to understand how SDK versioning works.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_we_build_and_maintain_the_sdk"><a class="anchor" href="#_how_we_build_and_maintain_the_sdk"></a>How we build and maintain the SDK</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The eForms metadata included in the SDK are not maintained in the plain text format in which they are distributed. The Publications Office maintains a relational database where all eForms metadata is stored, organised and curated. A web based "eForms Metadata Management" application is used to curate the metadata and prepare future releases.</p>
</div>
<div class="paragraph">
<p>When a new SDK release is ready to ship, a specialised application is used to read the metadata from the eForms metadata database, convert them into the textual formats in which they are distributed and package them for distribution. The release process is not as automated as "clicking a button", but it is a fairly streamlined process, subject to human control but not human intervention.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The file formats that we have chosen for distributing eForms Metadata came about through the practical needs of our own applications. Currently JSON and XML are the predominant file formats in the SDK. If you need us to include different file formats (like YAML for example) or have any suggestions for relevant improvements please share them with us in the <a href="https://github.com/OP-TED/eForms-SDK/discussions/categories/ideas">eForms SDK Discussions</a> on Github.
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../../../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<footer class="footer">
    <div class=columns>
        <div>
  <p>The projects documented in this Developer Documentation Portal are developed and managed by the TED & EU Public Procurement Unit of the Publications Office of the European Union
  <br/>This page was built using a link:https://github.com/OP-TED/antora-eui[fork of the Antora default UI], which is licensed under the terms of the MPL-2.0 license.</p>
</div>
        <div>
            <h3>This website is managed by<h3>
                    <img src="../../../_/img/op-logo-with-name.svg" class="logo" />
        </div>
    </div>
</footer>  </body>
</html>
