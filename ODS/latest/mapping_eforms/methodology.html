<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TED eForms Mappings :: TED Developer Docs</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/ODS/latest/mapping_eforms/methodology.html">
    <meta name="generator" content="Antora 3.1.7">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/custom.css">
    <link rel="stylesheet" href="../../../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/icons/favicon-16x16.png">
    <link rel="mask-icon" href="../../../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="../../../_/css/custom.css">
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta name="google-site-verification" content="google8bce9cd167a02a39.html" />
<script>var uiRootPath = '../../../_'</script>
<script defer src="https://webtools.europa.eu/load.js" type="text/javascript"></script>  </head>
  <body class="article">
 <!-- Piwik PRO Tracking Code -->
 <!-- followed the istructions bellow -->
<!-- citnet.tech.ec.europa.eu/CITnet/jira/secure/attachment/3485014/OP_PiwikPRO_TED-docs-installation-CCK-web-analytics_v1.txt -->
  <script type="text/javascript">
    (function (window, document, dataLayerName, id) {
      window[dataLayerName] = window[dataLayerName] || [], window[dataLayerName].push({start: (new Date).getTime(), event: "stg.start"});
      var scripts = document.getElementsByTagName('script')[0], tags = document.createElement('script');
      function stgCreateCookie(a, b, c) {var d = ""; if (c) {var e = new Date; e.setTime(e.getTime() + 24 * c * 60 * 60 * 1e3), d = "; expires=" + e.toUTCString(); f = "; SameSite=Strict"} document.cookie = a + "=" + b + d + f + "; path=/"}
      var isStgDebug = (window.location.href.match("stg_debug") || document.cookie.match("stg_debug")) && !window.location.href.match("stg_disable_debug"); stgCreateCookie("stg_debug", isStgDebug ? 1 : "", isStgDebug ? 14 : -1);
      var qP = []; dataLayerName !== "dataLayer" && qP.push("data_layer_name=" + dataLayerName), isStgDebug && qP.push("stg_debug"); var qPString = qP.length > 0 ? ("?" + qP.join("&")) : "";
      tags.async = !0, tags.src = "https://analytics.webanalytics.op.europa.eu/containers/" + id + ".js" + qPString, scripts.parentNode.insertBefore(tags, scripts);
      !function (a, n, i) {a[n] = a[n] || {}; for (var c = 0; c < i.length; c++)!function (i) {a[n][i] = a[n][i] || {}, a[n][i].api = a[n][i].api || function () {var a = [].slice.call(arguments, 0); "string" == typeof a[0] && window[dataLayerName].push({event: n + "." + i + ":" + a[0], parameters: [].slice.call(arguments, 1)})}}(i[c])}(window, "ppms", ["tm", "cm"]);
    })(window, document, 'dataLayer', '363c8269-fce7-42d6-88eb-0abc9e22ea96');
  </script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" crossorigin="anonymous"></script>
<script defer src="https://europa.eu/webtools/load.js?globan=1110" type="text/javascript"></script>
<div class="eu-flag">
    <nav class="navbar-scrollable">
        <div class="navbar-brand">

            <div class="eu-emblem" style="display: inline-block;">
                <!-- flag and logo-->
                <a href="https://european-union.europa.eu/index_en" target="_blank">
                    <div class="eu-emblem-std-en"><span></span>
                    </div>
                </a>

            </div>
        </div>
        <div class="sep-frame">
            <div class="rect-grey"></div>
        </div>
    </nav>

</div>

<div class="eu-tenders">
    <nav class="navbar">
        <div class="text-eu-tenders">
            <a href="https://ted.europa.eu/en/" target="_blank">EU tenders</a>
        </div>
        <div id="topbar-nav" class="navbar-menu">

            <div class="text-eu-subtext-text">
                <a href="https://docs.ted.europa.eu">TED Developer Docs</a>
            </div>
            <div class="text-eu-subtext-label">
                <a href="https://docs.ted.europa.eu">Documentation for TED developers and eSenders</a>
            </div>
            <div class="navbar-end">
                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</div>
<div class="body">
<div class="nav-container" data-component="ODS" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">TED Open Data</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>TED Open Data</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../querying/index.html">Querying TED Open data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/starting.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/online_training.html">Online training resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/designing_query.html">Designing a query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/structure.html">SPARQL query structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/notice_data.html">Notice data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/epo.html">eProcurement Ontology resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connecting/index.html">Connecting to TED Open Data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connecting/sparql.html">Submitting a query in the Cellar SPARQL Endpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connecting/excel.html">Connect using Excel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connecting/python.html">Connect using Jupyter Notebook and Python</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://data.ted.europa.eu/">Query Library</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>TED XML Data</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../reuse/index.html">Reusing TED XML data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#search-retrieve-data">Search and retrieve data via the search API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#download-notices-various-formats">Downloads using direct links</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#download-xml-notices">Download XML notices in bulk</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#download-release-calendar">Download the release calendar</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://data.europa.eu/data/datasets/ted-csv?locale=en">TED subsets in CSV format</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reuse/ftp.html">TED xml schema data archive</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reuse/field-list.html">List of search fields</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Mapping XML data to RDF</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../mapping/index_sf.html">Mapping Standard Form XML data to RDF</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/repository-structure.html">Repository structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/mapping_how.html">Methodology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/mapping-suite-structure.html">Mapping suite package structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/preparing-test-data.html">Preparing test data samples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/toolchain.html">Toolchain</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/reusing.html">Reusing mappings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/code-list-resources.html">Resources for mapping code lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping/prior.html">Recommended Prior Knowledge</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Mapping eForms XML data to RDF</a>
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="methodology.html">Methodology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="package_structure.html">Mapping Suite Structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="usage.html">Usage Instructions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Resources</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../data_availability.html">Current data availability</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/OP-TED/ted-open-data/discussions">Join the discussions</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
      <div class="context">
          <span class="title">TED Open Data</span>
          <span class="version">1.0</span>
      </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../../../eforms/latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version">
              <a href="../../../eforms/1.14/index.html">1.14</a>
            </li>
            <li class="version is-latest">
              <a href="../../../eforms/latest/index.html">1.13</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.12/index.html">1.12</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.11/index.html">1.11</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.10/index.html">1.10</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.9/index.html">1.9</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.8/index.html">1.8</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.7/index.html">1.7</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.6/index.html">1.6</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../EPO/latest/index.html">5.2.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/5.1/index.html">5.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/5/index.html">5.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/4.2/index.html">4.2.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/4.1/index.html">4.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/4/index.html">4.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/3.1/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../../../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/1.0.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../ESPD-EDM/latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../ESPD-EDM/latest/index.html">4.1.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/4.0.0/index.html">4.0.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.3.0/index.html">3.3.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.2.0/index.html">3.2.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.1.0/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.1.1/index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../M2O/latest/index.html">Model2Owl Documentation</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../M2O/latest/index.html">3.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../api/latest/index.html">TED API</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../api/latest/index.html">3.0</a>
            </li>
            <li class="version">
              <a href="../../../api/2.0/index.html">2.0</a>
            </li>
        </ul>
      </li>
      <li class="component is-current">
        <a class="title" href="../index.html">TED Open Data</a>
        <ul class="versions">
            <li class="version is-current is-latest">
              <a href="../index.html">1.0</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">TED Open Data</a></li>
    <li><a href="index.html">Mapping eForms XML data to RDF</a></li>
    <li><a href="methodology.html">Methodology</a></li>
  </ul>
</nav>
</div>
  <div class="content">
    <aside class="toc sidebar" data-title="Contents" data-levels="6">
  <div class="toc-menu"></div>
</aside>
    <article class="doc">
<h1 class="page">TED eForms Mappings</h1>
<div class="sect1">
<h2 id="_mapping_methodology"><a class="anchor" href="#_mapping_methodology"></a>Mapping Methodology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Developing mappings for eForms still follows the <a href="../mapping/mapping_how.html" class="xref page">sound principles of conceptual agreement followed by technical implementation</a>, divided into the distinct stages of <em>conceptual mapping</em> ( CM ) using a dialect of <a href="https://www.w3.org/TR/sparql11-property-paths/">SPARQL Path</a> patterns, and <em>technical mapping</em> ( TM ) using the <a href="https://rml.io/">RML mapping language</a>.</p>
</div>
<div class="sect2">
<h3 id="_eforms_sdk_field_definitions"><a class="anchor" href="#_eforms_sdk_field_definitions"></a>eForms SDK Field Definitions</h3>
<div class="paragraph">
<p>In contrast to SF, which had <a href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tedschemas-archive">XSD schemas</a> as the only cue for the underlying model, there is an <a href="https://github.com/OP-TED/eForms-SDK">eForms SDK</a> which prescribes eForms XML element <a href="https://developer.mozilla.org/en-US/docs/Web/XPath">XPaths</a> in terms of nodes and fields, which lends an easier framework for the management and comprehension of the <a href="http://docs.oasis-open.org/ubl/os-UBL-2.3/UBL-2.3.html">UBL</a>-based XML model behind elements used across the eForms notices. The notices themselves are categorized under <a href="https://docs.ted.europa.eu/eforms/latest/schema/documents-forms-and-notices.html">document, form and notice types and subtypes</a>, such as Competition Notice, subtype 16 (EF16).</p>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_groups"><a class="anchor" href="#_mapping_groups"></a>Mapping Groups</h3>
<div class="paragraph">
<p>A new idea introduced into the mapping methodology is the notion of a Mapping Group (MG), which is a representation of RDF connections (relationships) and subject groupings in a simple, hyphen-delimited textual notation, in the form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">MG-\{TrailingClass\}-\{intermediateClassAndPropertyPath\}-\{RootClass\}</code></pre>
</div>
</div>
<div class="paragraph">
<p>where, for example, the full path of an organisation&#8217;s address might be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">MG-\{Address\}-\{hasAddress\}-\{Location\}-\{hasLocation\}-\{Organization\}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This serves to provide an indication of how RDF statements are logically grouped together to form the right (connected) instances, given that data for a given subject may be spread across completely different XPaths in the source XML. That is why, in the technical mapping, MGs are used to form the subject URIs of the RML rules (TriplesMaps), suffixed with the node name (as per the SDK) where the information comes from, for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">tedm:MG-\{Address\}-\{hasAddress\}-\{Location\}-\{hasLocation\}-\{Organization\}_ND-Company a rr:TriplesMap</code></pre>
</div>
</div>
<div class="paragraph">
<p>Different nodes usually require different subject templates or iterators, especially those which are located at entirely different or <em>orthogonal</em> XPaths, requiring as many RML TriplesMaps with the same MG but different node names.</p>
</div>
</div>
<div class="sect2">
<h3 id="_modular_rml_mappings"><a class="anchor" href="#_modular_rml_mappings"></a>Modular RML Mappings</h3>
<div class="paragraph">
<p>Given the large number of mappings that are necessary for the conversion of a certain eForms Notice (the CM contains around 500 entries for various fields and nodes that belong to a type of notice), a mapping package ends up containing 200+ RML TriplesMaps with 500+ predicateObjectMap, resulting in more than 11,000 lines of RML code. To be able to efficiently and properly manage this amount of information, we split it up into multiple RML files that are organized following a certain logic.</p>
</div>
<div class="paragraph">
<p>The structure of the RML files (we call them <em>modules</em> because they are modular
files with RML rules that work together when combined) is based on the
primary/root class of a set of mapping rules, which are part of one or more
<em>Mapping Groups</em> (MGs) that share such a root class (the final segment of an MG
name). An MG represents a logical grouping of related instances/resources (like
a <code>foaf:Person</code> with all of its properties <em>and</em> relationships together with
the instances of those relationships).</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Multiple TriplesMaps in an RML Module</div>
<div class="content">
<div class="paragraph">
<p>For example, the <code>LotGroup.rml.ttl</code> file (as it appears in a <a href="https://github.com/OP-TED/ted-rdf-mapping-eforms/blob/1.0.0-rc.3/mappings/package_cn_v1.9/transformation/mappings/LotGroup.rml.ttl">mapping package</a> created for the conversion of the Competition Notices, eForms subtypes 10-24) contains the following TriplesMaps:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">tedm:MG-\{LotGroup\}_ND-\{LotsGroup\}
tedm:MG-\{Identifier\}-\{identifier\}-\{LotGroup\}_ND-\{LotsGroup\}
tedm:MG-\{Identifier\}-\{hasInternalIdentifier\}-\{LotGroup\}_ND-\{LotsGroupProcurementScope\}
tedm:MG-\{LotGroup\}_ND-\{LotsGroupProcurementScope\}
tedm:MG-\{MonetaryValue\}-\{hasEstimatedValue\}-\{LotGroup\}_ND-\{LotsGroupValueEstimate\}
tedm:MG-\{MonetaryValue\}-\{hasLaunchFrameworkAgreementMaximumValue\}-\{LotGroup\}_ND-\{LotsGroupValueEstimateExtension\}
tedm:MG-\{MonetaryValue\}-\{hasLaunchFrameworkAgreementMaximumValue\}-\{LotGroup\}_ND-\{LotsGroupFA\}
tedm:MG-\{AwardCriterion\}-\{specifiesProcurementCriterion\}-\{LotGroup\}_ND-\{LotsGroupAwardCriterion\}
tedm:MG-\{AwardCriterion\}-\{specifiesProcurementCriterion\}-\{LotGroup\}_ND-\{LotsGroupAwardFixedCriterionParameter\}
tedm:MG-\{AwardCriterion\}-\{specifiesProcurementCriterion\}-\{LotGroup\}_ND-\{LotsGroupAwardWeightCriterionParameter\}
tedm:MG-\{Constraint\}-\{hasConstraint\}-\{AwardCriterion\}-\{specifiesProcurementCriterion\}-\{LotGroup\}_ND-\{LotsGroupAwardThresholdCriterionParameter\}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Looking at the above example we can observe that, on one hand, a node <code>ND-LotsGroup</code> can have children fields that provide information for the generation of multiple instances, e.g. an <code>epo:LotGroup</code> instance from <code>tedm:MG-{LotGroup}_ND-{LotsGroup}</code>, and an <code>adms:Identifier</code> instance from <code>tedm:MG-{Identifier}-{identifier}-{LotGroup}_ND-{LotsGroup}</code>. On the other hand, the full definition of the same EPO instance, can achieved by combining information provided in fields that are organized under different nodes, e.g. the MonetaryValue that represents the hasLaunchFrameworkAgreementMaximumValue property of a LotGroup can come both from fields that are children of the <code>ND-LotsGroupValueEstimateExtension</code> node and those that are children of the <code>ND-LotsGroupFA</code> node:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">tedm:MG-\{MonetaryValue\}-\{hasLaunchFrameworkAgreementMaximumValue\}-\{LotGroup\}_ND-\{LotsGroupValueEstimateExtension\},
tedm:MG-\{MonetaryValue\}-\{hasLaunchFrameworkAgreementMaximumValue\}-\{LotGroup\}_ND-\{LotsGroupFA\}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Another advantage of creating modularized RML files, is that it allows us to easier handle the differences that appear in various SDK versions. Since fields and nodes can appear or disappear in any (major or minor) SDK version, we need to be able to write different RML mappings for different SDK versions. Some of these mapping are valid for all SDK version (that exist as of now), some are valid only for one particular SDK version, while others are valid up to or starting from a given SDK version. Our approach is to place these mappings in files whose name reflect the SDK versions for which they apply, and at the time when we create a mapping package for a given SDK version, we select oll the modeles that apply for that SDK version.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Multiple RML modules for mapping information about Lots</div>
<div class="content">
<div class="paragraph">
<p>For example, the RML mappings that are necessary to transform notices encoded according to eForms SDK v1.8 are organized in <a href="https://github.com/OP-TED/ted-rdf-mapping-eforms/tree/1.0.0-rc.4/mappings/package_cn_v1.8/transformation/mappings">more than 30 files</a>, from which the mappings for the Lot related information is organized in these files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-BASH hljs" data-lang="BASH">Lot.rml.ttl                 # mappings valid across all SDK versions
Lot_v1.3-1.8.rml.ttl        # mappings valid up to SDK version 1.8 (inclusive)
Lot_v1.4+.rml.ttl           # mappings valid for all SDK versions starting with v1.4
Lot_v1.7+.rml.ttl           # mappings valid for all SDK versions starting with v1.7
Lot_v1.8+.rml.ttl           # mappings valid for all SDK versions starting with v1.8
Lot_v1.8-1.8.rml.ttl        # mappings valid for only SDK versions v1.8</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><strong>Important Note: </strong>
The TriplesMaps in the various RML modules, especially those that represent version specific mappings, can spread across multiple files. For example, a TriplesMap can have it logical source/iterator, its subject map, and its various predicate-object maps in several files, depending on what aspect is specified in a given SDK version and/or belongs to a given module. However, this information needs to be provided and organized in such a manner that when they are combined together in a package, the RML mappings should be valid, complete, correct and non-conflicting. E.g. every TriplesMap, after the modules are combined, should have one and only one logical source and subject map, and the subject map and all predicate-object maps should work with the logical source that they are combined with.</p>
</div>
</div>
<div class="sect2">
<h3 id="ref:uri-scheme"><a class="anchor" href="#ref:uri-scheme"></a>RDF URI Scheme</h3>
<div class="paragraph">
<p>The eForms RML mappings use the following URI scheme for the representing ePO ontology instances:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">\{ns\}id_\{notice-id\}_\{concept\}_\{trailer\}</code></pre>
</div>
</div>
<div class="paragraph">
<p>, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{ns}</code> is a base namespace, in this case
<code><a href="http://data.europa.eu/a4g/resource/" class="bare">http://data.europa.eu/a4g/resource/</a></code></p>
</li>
<li>
<p><code>{concept}</code> is either (i) an ontology fragment label or (ii) source
element label, with a suffix or prefix</p>
</li>
<li>
<p><code>{trailer}</code> is either (i) an ID value (if the resource has one) or
(ii) an <em>online</em> computed, deterministic hash</p>
</li>
<li>
<p>Root concepts such as <code>epo:Notice</code> end up to only the <code>{concept}</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Expanding on some of the components for further clarity:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Whether a <code>concept</code> is an ontology fragment or source element label,
and whether this label has a suffix (rarely) or prefix, depends on the
subjective (human) evaluation of whether only having the class name is
sufficient hint of what the URI represents.</p>
</li>
<li>
<p>The trailer, when a hash, is computed (seeded) with the XPath named
element (e.g. <code>cbc:ID</code>) or (often relative) path (e.g. <code>path(cbc:ID)</code>)
of what is being mapped, and therefore lends a unique identity to the
URI. This yields reproducible URIs across RML TripleMaps, in case a
resource needed to be instantiated at different XPaths, for whatever
purpose.</p>
<div class="ulist">
<ul>
<li>
<p>A Lot or any other resource with an inherent ID, would simply have
its <code>cbc:ID</code> value as the trailer, for
e.g. <code>epd:id_14549263-b47b-4e59-96a1-2d0d13e19343_Lot_LOT-0001</code>, which
is very useful for linking purposes at orthogonal XPaths (e.g. wherever
an <code>id-ref</code> is concerned, that ID could simply be used to produce a
linkable URI without having to navigate XPaths).</p>
</li>
<li>
<p>Any other resource where there is no inherent ID would have a hash
that is unique to the XPath it represents, e.g. an <code>epo:Purpose</code>
instance, if instantiated at different XPaths for associating different
attributes, would have the same URI across those instantiations,
resulting in one unique instance and no duplication due to multiple
mappings.</p>
<div class="ulist">
<ul>
<li>
<p>The <code>adms:Identifier</code>, although having an ID, may still get a hash
instead of ID in its trailer, as it may not have a short ID that is
sensible to use/read (however we may not have enforced this rule
strongly)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are exceptions to this policy, namely in the <em>trailer</em> segment, as that
is what lends uniqueness to a resource, and determines whether instances being
created from subject URI templates in the technical RML rules are correct. The
following are such exceptions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>epo:AgentInRole</code> instances, which
<a href="https://github.com/OP-TED/ted-rdf-mapping-eforms/issues/31">require a carefully
constructed URI</a> seeded with information about the related party (a
<code>foaf:Agent</code>).</p>
</li>
<li>
<p><code>epo:AwardDecision</code> instances, which are hashed on the <code>cbc:AwardDate</code> to
yield the same instance for awards on the same date across possibly repeating
elements.</p>
</li>
<li>
<p>External notices that are referred to, whose base IRI involves the ID of the
respective notice, not the current one in scope.</p>
</li>
<li>
<p>External resources that cannot be identified, such as the Framework
Agreement contract representing <code>OPT-100-Contract Framework Notice Identifier</code>,
for whom a proxy <code>epo:FrameworkAgreement</code> is created <em>without</em> a trailer.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Wherever <em>URI</em> is mentioned,
<a href="https://www.w3.org/2001/Talks/0912-IUC-IRI/paper.html#:~:text=In%20principle%2C%20the%20definition%20of,us%2Dascii%20characters%20in%20URIs">IRI</a>
is meant. Also, the generation of hashes is done <em>online</em> against a
remote HTTP web API endpoint offering this function, during
transformation (which can otherwise be an offline process).</p>
</div>
</div>
</div>
</div>
</article>
    <div id="widgetContainer">
      <article class="widget">
<div class="widget-title">
    <p>Access other sites in the TED family</p>
  </div>
  <div class="links">
    <a href="https://enotices2.ted.europa.eu/" target="_blank">eNotices2</a>
    <a href="https://developer.ted.europa.eu/" target="_blank">TED Developer Portal</a>
    <a href="https://ted.europa.eu/" target="_blank">TED Website</a>
  </div>
</article>
    </div>
  </div>
</main>

<script>
  // Get the current URL
  var url = window.location.href;

  // Check if the URL ends with 'home/index.html'
  if (!url.endsWith('/home/index.html')) {
    // If it doesn't, hide the widget
    document.getElementById('widgetContainer').style.display = 'none';
  }
</script></div>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../../../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<!-- Cookie Consent Kit -->
  <script type="application/json">
    {
      "utility" : "cck",
      "url": {
        "en": "https://ted.europa.eu/en/cookie-choice",
        "fr": "https://ted.europa.eu/fr/cookie-choice"
      },
      "appendix": {
        "en": "We use cookies to improve your experience and analyze our traffic.",
        "fr": "Nous utilisons des cookies pour améliorer votre expérience et analyser notre trafic."
      },
      "target": true
    }
    </script>
    
  <!-- Cookie Consent Kit -->
  <script>
    window.addEventListener("cck_all_accepted", function () {
      var consentAccepted = {consents: {analytics: {status: 1}}};
      ppms.cm.api('setComplianceSettings', consentAccepted, function (new_consent) { });
    });
    window.addEventListener("cck_technical_accepted", function () {
      var consentRejected = {consents: {analytics: {status: 0}}};
      ppms.cm.api('setComplianceSettings', consentRejected, function (new_consent) { });
    });
  </script>
<div class="footer">
    <div class="three-columns">

        <div class="col-md-12 col-lg-4">
            <div class="ls-footer-logo-DD"><a href="https://docs.ted.europa.eu/home/index.html"><img
                        alt="TED Developer Docs" class="ls-op" src="../../../_/img/ted-logo-footer2.png"
                        height="48" /></a></div>
            <span class="ted-footer__title ted-footer__title--main"></span>
            <div class="ted-footer__rich-text">
                <p>This website is managed by:
                    <u>
                        <a href="https://op.europa.eu/en/home" target="_blank">Publications Office of the European
                            Union</a>
                    </u>
                </p>

            </div>
        </div>

        <div class="col-md-12 col-lg-4">

            <h3 class="ted-footer__title">Need Help?</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/en/help-page">Help</a></li>
                <li class="li-footer"><a href="https://ted.europa.eu/en/contact">Contact the TED Helpdesk</a></li>
            </ul>

            <h3 class="ted-footer__title">Follow us</h3>
            <ul class="ul-footer">
                <li class="li-footer">
                    <a href="https://twitter.com/EUTenders"> <img src="../../../_/img/twitter.svg"
                            class="icon-footer" /><span>X/Twitter</span></a>
                    <a href="https://www.youtube.com/playlist?list=PLT5rARDev_rkQdFimoHlpv2Och1H0uBLs"><img
                            src="../../../_/img/youtube.svg" class="icon-footer-2nd" /><span>YouTube</span></a>
                </li>
            </ul>

            <h3 class="ted-footer__title">Legal</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/en/legal-notice" target="_blank">Legal Notice</a>
                </li>
                <li class="li-footer"><a href="https://ted.europa.eu/en/cookie-choice" target="_blank">Cookies</a>
                </li>
                <li class="li-footer"><a
                        href="https://ted.europa.eu/en/accessibility"
                        target="_blank">Accessibility</a>
                </li>
            </ul>

        </div>

        <div class="col-md-12 col-lg-4">

            <h3 class="ted-footer__title">About us</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/">About TED</a></li>
            </ul>

            <h3 class="ted-footer__title">Other services</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/TED/main/HomePage.do">EU tenders</a></li>
                <li class="li-footer"><a href="https://data.europa.eu/en">European data</a></li>
                <li class="li-footer"><a href="https://op.europa.eu/en/web/eu-vocabularies">EU vocabularies</a></li>
                <li class="li-footer"><a href="https://cordis.europa.eu/">EU research results</a></li>
                <li class="li-footer"><a href="https://op.europa.eu/en/web/who-is-who">EU Whoiswho</a></li>
                <li class="li-footer"><a href="https://op.europa.eu/en/web/librarians-corner">EU publications</a></li>
            </ul>
        </div>
    </div>

    <div class="three-columns">
        <div class="col-md-12 col-lg-4">
            <!--<h2 class="sr-only" id="section-title-op">Publications Office of the European Union</h2> -->

            <div class="ls-footer-logo"><a aria-labelledby="section-title-op" href="/"><img alt="European Union"
                        class="ls-op" /></a></div>
            <span class="ted-footer__title ted-footer__title--main"></span>
           
            <div class="ted-footer__rich-text">
                <p class="byline-footer">Discover more on <a class="ls-underline" href="https://europa.eu/en/home"><span
                            style="word-break: keep-all; white-space: nowrap; text-decoration: underline!important">europa.eu</span></a>
                </p>

            </div>
        </div>
        <div class="col-md-12 col-lg-4">
            <h3 class="ted-footer__title">Contact the EU</h3>

            <ul class="ul-footer">
                <li class="li-footer"><a href="tel:0080067891011">Call us 00 800 6 7 8 9 10 11</a></li>
                <li class="li-footer"><a href="https://european-union.europa.eu/contact-eu/call-us_en">Use other
                        Telephone options</a></li>
                <li class="li-footer"><a href="https://european-union.europa.eu/contact-eu/write-us_en">Write to us via
                        our contact forms</a></li>
                <li class="li-footer"><a href="https://european-union.europa.eu/contact-eu/meet-us_en">Meet us at one of
                        the EU centres</a></li>

            </ul>

        </div>
        <div class="col-md-12 col-lg-4">
             <h3 class="ted-footer__title">Social Media</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a
                        href="https://european-union.europa.eu/contact-eu/social-media-channels_en#/search"><i
                            aria-hidden="true" class="gs-icon-twitter"></i>Search of EU social media channels</a></li>

            </ul>
            <h3 class="ted-footer__title">EU institutions and bodies</h3>

            <ul class="ul-footer">
                <li class="li-footer institutions"><a href="https://european-union.europa.eu/institutions-law-budget/institutions-and-bodies/search-all-eu-institutions-and-bodies_en">Search all EU institutions and bodies</a></li>
               
            </ul>
        </div>
    </div>
</div>  </body>
</html>
