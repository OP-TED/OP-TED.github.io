<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mapping Methodology :: TED Developer Docs</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/ODS/latest/mapping/mapping_how.html">
    <meta name="generator" content="Antora 3.1.7">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="stylesheet" href="../../../_/css/custom.css">
    <link rel="stylesheet" href="../../../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../../../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../../_/img/icons/favicon-16x16.png">
    <link rel="mask-icon" href="../../../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="../../../_/css/custom.css">
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta name="google-site-verification" content="google8bce9cd167a02a39.html" />
<script>var uiRootPath = '../../../_'</script>
<script defer src="https://webtools.europa.eu/load.js" type="text/javascript"></script>  </head>
  <body class="article">
 <!-- Piwik PRO Tracking Code -->
 <!-- followed the istructions bellow -->
<!-- citnet.tech.ec.europa.eu/CITnet/jira/secure/attachment/3485014/OP_PiwikPRO_TED-docs-installation-CCK-web-analytics_v1.txt -->
  <script type="text/javascript">
    (function (window, document, dataLayerName, id) {
      window[dataLayerName] = window[dataLayerName] || [], window[dataLayerName].push({start: (new Date).getTime(), event: "stg.start"});
      var scripts = document.getElementsByTagName('script')[0], tags = document.createElement('script');
      function stgCreateCookie(a, b, c) {var d = ""; if (c) {var e = new Date; e.setTime(e.getTime() + 24 * c * 60 * 60 * 1e3), d = "; expires=" + e.toUTCString(); f = "; SameSite=Strict"} document.cookie = a + "=" + b + d + f + "; path=/"}
      var isStgDebug = (window.location.href.match("stg_debug") || document.cookie.match("stg_debug")) && !window.location.href.match("stg_disable_debug"); stgCreateCookie("stg_debug", isStgDebug ? 1 : "", isStgDebug ? 14 : -1);
      var qP = []; dataLayerName !== "dataLayer" && qP.push("data_layer_name=" + dataLayerName), isStgDebug && qP.push("stg_debug"); var qPString = qP.length > 0 ? ("?" + qP.join("&")) : "";
      tags.async = !0, tags.src = "https://analytics.webanalytics.op.europa.eu/containers/" + id + ".js" + qPString, scripts.parentNode.insertBefore(tags, scripts);
      !function (a, n, i) {a[n] = a[n] || {}; for (var c = 0; c < i.length; c++)!function (i) {a[n][i] = a[n][i] || {}, a[n][i].api = a[n][i].api || function () {var a = [].slice.call(arguments, 0); "string" == typeof a[0] && window[dataLayerName].push({event: n + "." + i + ":" + a[0], parameters: [].slice.call(arguments, 1)})}}(i[c])}(window, "ppms", ["tm", "cm"]);
    })(window, document, 'dataLayer', '363c8269-fce7-42d6-88eb-0abc9e22ea96');
  </script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" crossorigin="anonymous"></script>
<script defer src="https://europa.eu/webtools/load.js?globan=1110" type="text/javascript"></script>
<div class="eu-flag">
    <nav class="navbar-scrollable">
        <div class="navbar-brand">

            <div class="eu-emblem" style="display: inline-block;">
                <!-- flag and logo-->
                <a href="https://european-union.europa.eu/index_en" target="_blank">
                    <div class="eu-emblem-std-en"><span></span>
                    </div>
                </a>

            </div>
        </div>
        <div class="sep-frame">
            <div class="rect-grey"></div>
        </div>
    </nav>

</div>

<div class="eu-tenders">
    <nav class="navbar">
        <div class="text-eu-tenders">
            <a href="https://ted.europa.eu/en/" target="_blank">EU tenders</a>
        </div>
        <div id="topbar-nav" class="navbar-menu">

            <div class="text-eu-subtext-text">
                <a href="https://docs.ted.europa.eu">TED Developer Docs</a>
            </div>
            <div class="text-eu-subtext-label">
                <a href="https://docs.ted.europa.eu">Documentation for TED developers and eSenders</a>
            </div>
            <div class="navbar-end">
                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</div>
<div class="body">
<div class="nav-container" data-component="ODS" data-version="1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">TED Open Data</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>TED Open Data</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../querying/index.html">Querying TED Open data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/starting.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/online_training.html">Online training resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/designing_query.html">Designing a query</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/structure.html">SPARQL query structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/notice_data.html">Notice data</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../querying/epo.html">eProcurement Ontology resources</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../connecting/index.html">Connecting to TED Open Data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connecting/sparql.html">Submitting a query in the Cellar SPARQL Endpoint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connecting/excel.html">Connect using Excel</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../connecting/python.html">Connect using Jupyter Notebook and Python</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://data.ted.europa.eu/">TED Open Data Editor</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://docs.ted.europa.eu/ted-open-data-explorer/">TED Open Data Explorer</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>TED XML Data</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../reuse/index.html">Reusing TED XML data</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#search-retrieve-data">Search and retrieve data via the search API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#download-notices-various-formats">Downloads using direct links</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#download-xml-notices">Download XML notices in bulk</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://ted.europa.eu/en/simap/developers-corner-for-reusers#download-release-calendar">Download the release calendar</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://data.europa.eu/data/datasets/ted-csv?locale=en">TED subsets in CSV format</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reuse/ftp.html">TED xml schema data archive</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../reuse/field-list.html">List of search fields</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Mapping XML data to RDF</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index_sf.html">Mapping Standard Form XML data to RDF</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="repository-structure.html">Repository structure</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="mapping_how.html">Methodology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mapping-suite-structure.html">Mapping suite package structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="preparing-test-data.html">Preparing test data samples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="toolchain.html">Toolchain</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="reusing.html">Reusing mappings</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="code-list-resources.html">Resources for mapping code lists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="prior.html">Recommended Prior Knowledge</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../mapping_eforms/index.html">Mapping eForms XML data to RDF</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping_eforms/methodology.html">Methodology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping_eforms/package_structure.html">Mapping Suite Structure</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../mapping_eforms/usage.html">Usage Instructions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Resources</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../data_availability.html">Current data availability</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary.html">Glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://github.com/OP-TED/ted-open-data/discussions">Join the discussions</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
      <div class="context">
          <span class="title">TED Open Data</span>
          <span class="version">1.0</span>
      </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../../../eforms/latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version">
              <a href="../../../eforms/1.14/index.html">1.14</a>
            </li>
            <li class="version is-latest">
              <a href="../../../eforms/latest/index.html">1.13</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.12/index.html">1.12</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.11/index.html">1.11</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.10/index.html">1.10</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.9/index.html">1.9</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.8/index.html">1.8</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.7/index.html">1.7</a>
            </li>
            <li class="version">
              <a href="../../../eforms/1.6/index.html">1.6</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../EPO/latest/index.html">5.2.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/5.1/index.html">5.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/5/index.html">5.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/4.2/index.html">4.2.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/4.1/index.html">4.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/4/index.html">4.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/3.1/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../../../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../../../EPO/1.0.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../ESPD-EDM/latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../ESPD-EDM/latest/index.html">4.1.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/4.0.0/index.html">4.0.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.3.0/index.html">3.3.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.2.0/index.html">3.2.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.1.0/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.1.1/index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../../../ESPD-EDM/1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../M2O/latest/index.html">Model2Owl Documentation</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../M2O/latest/index.html">3.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../../api/latest/index.html">TED API</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../../api/latest/index.html">3.0</a>
            </li>
            <li class="version">
              <a href="../../../api/2.0/index.html">2.0</a>
            </li>
        </ul>
      </li>
      <li class="component is-current">
        <a class="title" href="../index.html">TED Open Data</a>
        <ul class="versions">
            <li class="version is-current is-latest">
              <a href="../index.html">1.0</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">TED Open Data</a></li>
    <li><a href="index_sf.html">Mapping Standard Form XML data to RDF</a></li>
    <li><a href="mapping_how.html">Methodology</a></li>
  </ul>
</nav>
</div>
  <div class="content">
    <aside class="toc sidebar" data-title="Contents" data-levels="6">
  <div class="toc-menu"></div>
</aside>
    <article class="doc">
<h1 class="page">Mapping Methodology</h1>
<div class="sect1">
<h2 id="_mappings"><a class="anchor" href="#_mappings"></a>Mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes a <strong>methodology for creating mapping rules</strong> that transform XML data representing the content of the TED “Standard” Forms, into RDF graphs that conform to the <a href="https://github.com/OP-TED/ePO">ePO ontology</a>.</p>
</div>
<div class="paragraph">
<p>The current mapping methodology relies on resources generated by earlier attempts to create a methodology by e.g., Everis, outcomes of related projects by e.g., by Deloitte e.a., and a number of experts in  the ePO ontology, and Semantic Web technologies in general.</p>
</div>
<div class="paragraph">
<p>The mappings generated by this methodology are intended for use in
the notice transformation workflow for <strong>all</strong> <a href="https://ted.europa.eu">Tenders Electronic Daily (TED)</a> notices conforming to "Standard" forms that are published in the TED XML format, into RDF format, in order to make it available for querying through a SPARQL endpoint.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mapping-lifecycle-chapter"><a class="anchor" href="#_mapping-lifecycle-chapter"></a>Mapping development lifecycle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The creation of a mapping is done in a sequence of phases and each phase has a main activity that must be completed before the next phase can occur.</p>
</div>
<div class="paragraph">
<p>Below is a high-level overview of the stage of the mapping development lifecycle that prepares the mapping suites for use for transformations in production settings.</p>
</div>
<div class="paragraph">
<p>The diagram in <a href="#mapping-lifecycle">Figure 1</a> describes the complete mapping development lifecycle.</p>
</div>
<div id="mapping-lifecycle" class="imageblock text-center">
<div class="content">
<img src="../_images/mapping_development_lifecycle.png" alt="mapping development lifecycle">
</div>
<div class="title">Figure 1. Mapping development lifecycle</div>
</div>
<div class="paragraph">
<p>The phases are as follows:</p>
</div>
<div class="sect2">
<h3 id="_decide_which_notice_type_to_map"><a class="anchor" href="#_decide_which_notice_type_to_map"></a>Decide which notice type to map</h3>
<div class="paragraph">
<p>The process starts with the decision as to <strong>which notice type to map</strong>. The notice classification schemes currently targeted are the <a href="https://simap.ted.europa.eu/web/simap/standard-forms-for-public-procurement">"standard forms"</a>, and the <a href="https://simap.ted.europa.eu/web/simap/eforms">"eForms"</a>. New classification schemes will follow in the future.</p>
</div>
</div>
<div class="sect2">
<h3 id="_select_a_set_of_representative_data_to_use_for_testing"><a class="anchor" href="#_select_a_set_of_representative_data_to_use_for_testing"></a>Select a set of representative data to use for testing</h3>
<div class="paragraph">
<p>Once the target form is chosen, <strong>a set of representative data is selected</strong> which serves as the test set for the mapping.</p>
</div>
</div>
<div class="sect2">
<h3 id="_analyse_the_data_and_produce_a_conceptual_mapping"><a class="anchor" href="#_analyse_the_data_and_produce_a_conceptual_mapping"></a>Analyse the data and produce a conceptual mapping</h3>
<div class="paragraph">
<p>The notice classification scheme is usually subject to regulations and described in multiple forms, such as PDF documents and/ or XSD schemes, amongst other document types. All possible documentation and modelling artefacts are <strong>analysed and used to produce a conceptual mapping</strong> (described in the <a href="#_conceptual-mapping-structure">Conceptual mapping structure</a> section). This artefact, stored as a workbook, establishes the correspondence of the TED notice fields to XPath expressions and EPO structures.</p>
</div>
</div>
<div class="sect2">
<h3 id="_implement_a_corresponding_technical_mapping"><a class="anchor" href="#_implement_a_corresponding_technical_mapping"></a>Implement a corresponding technical mapping</h3>
<div class="paragraph">
<p>Once the conceptual mapping is established between the XPath expressions and ontology structures, <strong>a corresponding technical mapping is implemented</strong>. This technical mapping consists of a set of mapping rules expressed in <a href="https://rml.io/specs/rml/">RDF Mapping Language (RML)</a>, and represents a translation of the conceptual mapping into a formal language which can be executed automatically by a transformation engine such as <a href="https://github.com/RMLio/rmlmapper-java">RMLMapper</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_artifacts"><a class="anchor" href="#_other_artifacts"></a>Other Artifacts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the process, other useful artifacts are produced:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A HTML report on the RML files which is easier to read</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Reading RML for revision or debugging purposes can be difficult. To simplify this process, the <strong>RML files can be turned into a more human-friendly HTML report</strong>. This detailed document facilitates e.g., parsing sets of conceptual and technical mapping rules to <strong>check their completeness and/or consistency</strong>. This check is a manual step but not the only quality assurance mechanism foreseen in the lifecycle process.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A set of SPARQL assertion queries</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The setup and conventions of the conceptual mapping file permits the generation of several additional artefacts, specifically, <strong>a set of SPARQL assertion queries</strong>. These queries are used to assess whether fields mapped in the conceptual mapping are in the same form in the RDF file generated from an XML notice.</p>
</div>
<div class="paragraph">
<p>To put the SPARQL assertions into practice, <strong>sample data is transformed into RDF</strong> automatically using the RML mapping rules. The <strong>SPARQL queries are then applied</strong> to each output producing validation reports that indicate whether the individual queries generated a positive or negative result. The reports are then analysed for errors in the RML transformation rules or the conceptual mapping.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A report which reconstructs the data shape instantiated in a particular notice</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The final step is the assessment of the generated data, the <strong>fingerprinting</strong>. This procedure generates a report which <strong>reconstructs the data shape instantiated in a particular notice</strong>. This assists in identifying errors related to the EPO ontology.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_key_elements_involved_in_the_mapping_process"><a class="anchor" href="#_key_elements_involved_in_the_mapping_process"></a>Key elements involved in the mapping process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides descriptions and references to the key elements (concepts or resources) that are involved in either the creation of mappings or the mapping process itself.</p>
</div>
<div class="paragraph">
<p>The purpose of the mapping process is to generate a <strong>mapping table</strong> (described in the conceptual mapping artefact section) that can be processed by the automated workflow of the
TED-ODS system. The mapping table is used to convert the TED XML input data into an RDF graph (the output of the mapping) that conforms with the eProcurement Ontology. The mapping table is encoded as a spreadsheet containing multiple worksheets.</p>
</div>
<div class="sect2">
<h3 id="_notices_to_be_mapped"><a class="anchor" href="#_notices_to_be_mapped"></a>Notices to be mapped</h3>
<div class="paragraph">
<p>The inputs for the transformation process are <strong>XML files</strong> that contain TED notice data. These data are structured according to the <a href="https://simap.ted.europa.eu/web/simap/standard-forms-for-public-procurement">Standard Forms</a>  published by the European Commission. There are 23 standard forms defined (numbered 1-8, 12-25, T1 and T2), whose PDF versions can be found here: <a href="https://simap.ted.europa.eu/standard-forms-for-public-procurement">https://simap.ted.europa.eu/standard-forms-for-public-procurement</a>.</p>
</div>
<div class="paragraph">
<p>The XML files must conform to the official Publication Schema.</p>
</div>
<div class="paragraph">
<p>Over time, different schema have been developed and there is a significant amount of XML data published that conform to the historical versions. The latest XML notices conform to  <a href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tedschemas">version R2.0.9.S05</a> of the schema.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contributing_resources"><a class="anchor" href="#_contributing_resources"></a>Contributing Resources</h3>
<div class="paragraph">
<p>To create these mappings, a number of resources produced by earlier or concurrent TED projects were used. The following table contains some of these with short descriptions and links to where the resources can be found.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Resource Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The e-Procurement Ontology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.ted.europa.eu/EPO/latest/index.html">The e-Procurement Ontology</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TED_EXPORT.xsd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The XML Schema defined for the TED XML Notices. Download and extract the versions R2.0.9 and R2.0.8 of the TED XML schema from the links named <em>Reception: TED eSenders XML schema</em> on this page: <a href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tedschemas">link</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TED forms PDFs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PDF files representing the physical forms that are to be completed with the relevant data according to each notice. <a href="https://simap.ted.europa.eu/standard-forms-for-public-procurement">link</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deloitte &amp; OP - TED_XML_Mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Excel spreadsheets that map elements (fields, sections, etc.) found in the Standard Forms to elements in the eForms. These tables provide the full list of elements and also XPaths to identify the corresponding information TED-XML files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ontology_eForms_NEW_Mapping_New Regulation</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mappings by Everis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Just for reference. Various parts might be out of date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test data set by Everis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of approx. 300 XML files (6 batches of about 50 files each, for the forms F02, F03, F05, F06, F24 and F25)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RDF results by Everis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Just for reference. Various parts might be out of date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML Data analysis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contains various tables, each summarising certain aspects  (e.g. XML elements related to certain fields in the form) of the data extracted from test notice files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">XML Elements to Vocabulary Mapping</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TED Mappings to ePO terms</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">conventions_report.html</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_transformation_output"><a class="anchor" href="#_transformation_output"></a>Transformation output</h3>
<div class="paragraph">
<p>The output of the XML notice transformation is an <strong>RDF graph</strong> instantiating the <a href="https://docs.ted.europa.eu/EPO/latest/index.html">eProcurement Ontology</a>, containing a number of RDF triples where the subjects, predicates and objects of the triples are either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>unique Internationalized Resource Identifiers (IRIs)</strong> that identify either the notice or different components of a notice. These IRIs (or sometimes blank nodes) are used in multiple triples as subjects OR objects to build an <strong>RDF graph</strong>;</p>
</li>
<li>
<p><strong>IRIs</strong> representing <strong>controlled vocabulary terms</strong> or <strong>entities in the ePO ontology</strong>;</p>
</li>
<li>
<p><strong>Literals</strong> representing numbers, boolean values, or strings. The string values are often encoded as multilingual strings of type rdf:langString., to facilitate the representation of textual values in multiple European languages.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_files_produced"><a class="anchor" href="#_mapping_files_produced"></a>Mapping files produced</h3>
<div class="paragraph">
<p>The key element enabling transformation automation is the mapping files: <strong>conceptual</strong> and <strong>technical</strong> mappings that are developed according to the mapping creation methodology.</p>
</div>
<div class="paragraph">
<p>The mapping rules are organised in mapping suites, described in the <a href="mapping-suite-structure.html" class="xref page">Mapping Suite Structure</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conceptual-mapping-structure"><a class="anchor" href="#_conceptual-mapping-structure"></a>Conceptual mapping structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes the structure of the mapping file  created as a result of the mapping process. The mapping file is an Excel workbook containing multiple worksheets. This workbook is generated from a Google Sheets document, where it can be prepared, revised, and refined by multiple contributors in collaboration.
This template informs software developers and knowledge engineers of the mapping file content.</p>
</div>
<div class="paragraph">
<p>It consists of several worksheets:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Metadata sheet: provides technical and descriptive information about the mapping suite.</p>
</li>
<li>
<p>Resources sheet: provides the list of resources used in the technical mappings. This list is used to populate the mapping suite from the indicated resources files automatically.</p>
</li>
<li>
<p>Rules sheet: provides the actual set of mapping rules.</p>
</li>
<li>
<p>Misc: optional worksheets added by semantic engineers to manage additional information.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_metadata_sheet"><a class="anchor" href="#_the_metadata_sheet"></a>The Metadata sheet</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../_images/conmap1.png" alt="conmap1">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Cell refs.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Header for content</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Form number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Form number (one of <em>F03</em>-<em>F08</em>, <em>F12</em>-<em>F25</em>, <em>T1</em> or <em>T2</em>). For multiple forms a comma separated list can be used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See list of standard forms <a href="https://simap.ted.europa.eu/standard-forms-for-public-procurement">here</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Legal Basis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter for the directives that constitute the legal bases for the notice. For multiple directives a comma separated list can be used. For any value the character * can be used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Examples: D24 / D23, D25 / R1370</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Year</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filter for the year when the notice was published. For multiple years a comma separated list or ranges of the form <em>startYear-endYear</em>, or a combination of these two can be used. For any value the character * can be used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid examples: 2018 / 2016-2020 / 2016, 2018-2020</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notice type (eForms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[TODO]</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Form type (eForms)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[TODO]</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapping Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A version number for the current mapping table. The version number should be increased for each “released” version of the mapping table that is different from the previously released version, following <a href="https://semver.org/">semantic versioning</a> practices.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example values: 0.1.0 / 1.0.0-beta / 1.1.0 / 2.3.2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EPO version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version number of EPO to which the mapping is done.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XSD version number(s)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version number of the TED XML Schema file. Ranges should be also allowed. For multiple versions a comma separated list or ranges of the form (<em>startVersion, endVersion)</em>, or a combination of these two can be used. For any value the character * can be used.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example values: R2.0.9.S05 (this includes all intermediary versions of R2.0.9.S05.E01, such as R2.0.9.S05.E01_001-20210730) /
 R2.0.9.S04.E01_002-20201027, R2.0.9.S04.E01_001-20201008 /
(R2.0.9.S03.E01_005-20180515, R2.0.9.S03.E01_010-20200224] /
Theoretically anything like this could be used: (,1.0],[1.2,)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_the_resources_sheet"><a class="anchor" href="#_the_resources_sheet"></a>The Resources sheet</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../_images/conmap2.png" alt="conmap2">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Cell refs.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Header for content</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A2:A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the resource files that are used by the mappings and need to be present in the +resources +folder.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_the_rules_sheet"><a class="anchor" href="#_the_rules_sheet"></a>The Rules sheet</h3>
<div class="imageblock">
<div class="content">
<img src="../_images/conmap3.png" alt="conmap3">
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cell refs.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Header for content</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>A:D</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Conceptual mapping</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A3:A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Form Field ID (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The “identifier” of the field in the Standard Form PDF file. Usually the field number, such as <em>IV.1.1.1.2</em>, or the section name, e.g. “<em>Section IV</em>”</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">B3:B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Form Field Name (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the field in the Standard Form PDF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">C3:C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">eForms BT-ID (O)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ID of the corresponding business term (BT) or business term group (BG) in eForms. The values are coming from the column B of this spreadsheet (or one of its equivalents):</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D3:D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">eForms BT Name (O)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the corresponding business term (BT) or business term group (BG) in eForms. The values are coming from the column C of this spreadsheet (or one of its equivalents):</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>E:F</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Standard form technical mapping</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E3:E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base XPath (for anchoring) (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The “base” XPath that identifies an XML element and all of its sub-elements. It can be specified at the level of a section, or subsection, so that writing XPaths for form elements within that (sub)section will not have to repeat over and over again the “base” XPath.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">F3:F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field XPath (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The XPath that identifies the form element, which is relative to the “base” XPath that was specified for the closest  element above this one.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>G:J</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>ePO mapping</strong></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G3:G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Class path (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the types of the resources involved in the entire “path” from the subject to the object, which “connects” the concept that represents this XML element (the object), to an RDF resource already created from previous XML elements (the subject). So, if the representation of an XML element involves the creation of the following triples:
<em>s p1 o1.   o1 p2 o2.   o2 p3 o.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H3:H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property path (M)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the properties involved in the entire “path” from the subject to the object, which “connects” the concept that represents this XML element (the object), to an RDF resource already created from previous XML elements (the subject). So, if the representation of an XML element involves the creation of the following triples:
<em>s p1 o1.   o1 p2 o2.   o2 p3 o.</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">I3:I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triple fingerprint (O)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[TODO]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">J3:J</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fragment fingerprint (O)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[TODO]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mapping_creation_method"><a class="anchor" href="#_mapping_creation_method"></a>Mapping development methodology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section gives a high-level overview of the process for creating the mapping rules for transforming XML TED notices into RDF triples that use ePO terms (classes).</p>
</div>
<div class="paragraph">
<p>The methodology described focuses on the steps and artefacts at the core of  <a href="#mapping-creation">Figure 2</a>. This diagram shows a subsection of the mapping lifecycle.</p>
</div>
<div id="mapping-creation" class="imageblock text-center">
<div class="content">
<img src="../_images/mapping_creation.png" alt="mapping creation" width="85%">
</div>
<div class="title">Figure 2. Mapping creation steps in the development lifecycle</div>
</div>
<div class="paragraph">
<p>Following the theoretical framework, and learning from the manual creation of mappings, the mapping creation process has been enhanced and refined.</p>
</div>
<div class="paragraph">
<p>The focus here is on describing the steps by which the <strong>conceptual mapping</strong> and the <strong>technical mapping</strong> are created.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary_of_the_steps_and_sub_steps"><a class="anchor" href="#_summary_of_the_steps_and_sub_steps"></a>Summary of the Steps and sub-steps</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_creation_of_conceptual_mappings"><a class="anchor" href="#_creation_of_conceptual_mappings"></a>Creation of conceptual mappings:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The identification of the form elements (and the corresponding XML elements and XPaths) to be mapped</p>
</li>
<li>
<p>The identification of the eForms Business Terms (BT) corresponding to the XML elements (optional)</p>
</li>
<li>
<p>The identification of the ePO terms (classes and relations) that correspond to XML elements and their relationships</p>
</li>
<li>
<p>The identification of the value sets in XML</p>
</li>
<li>
<p>The identification of the value sets in ePO, and in other vocabularies corresponding to XML controlled values used in the XML files</p>
</li>
<li>
<p>Writing Turtle fragments that provide a template for the triples that should be generated, and which can be used in the RML mapping rules</p>
<div class="ulist">
<ul>
<li>
<p>The identification and documentation of problems/issue/questions that are to be clarified with external experts</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_creation_of_technical_mappings"><a class="anchor" href="#_creation_of_technical_mappings"></a>Creation of technical mappings:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The identification of the sources that are necessary to execute a mapping</p>
</li>
<li>
<p>The preparation of vocabulary files, and other “dictionaries” that are to be used as resources for the mapping</p>
</li>
<li>
<p>The preparation of test data</p>
</li>
<li>
<p>Writing YARRRML rules (optional)</p>
</li>
<li>
<p>Writing RML rules (or convert YARRRML rules to RML) and test them</p>
</li>
<li>
<p>Documenting problems and creating (Helpdesk)tasks to find solutions for them</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_testing_the_mapping_to_identify_potential_problems_and_improvements"><a class="anchor" href="#_testing_the_mapping_to_identify_potential_problems_and_improvements"></a>Testing the mapping to identify potential problems and improvements:</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Running the mapping on all test notices files and analysing the output</p>
</li>
<li>
<p>Generating the various validation outputs (SHACL shapes, SPARQL queries etc.), for all test data and analyse it</p>
</li>
<li>
<p>Executing any other steps in the mapping development lifecycle to find potential issues and refine the mapping</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Next, a more detailed description of the necessary steps in the conceptual mapping process is provided.</p>
</div>
</div>
<div class="sect2">
<h3 id="_steps_involved_in_the_conceptual_mapping_process"><a class="anchor" href="#_steps_involved_in_the_conceptual_mapping_process"></a>Steps involved in the conceptual mapping process</h3>
<div class="paragraph">
<p>The conceptual mapping is the first artefact that must be created. It requires a thorough understanding of the content of a form (standard or eForms), and all the related concepts in the ePO ontology. It will most likely involve rounds of discussions with subject experts. Below, some of the sub-steps involved in developing the conceptual mapping are described.</p>
</div>
<div class="sect3">
<h4 id="_identification_of_the_form_elements_and_the_corresponding_xml_elements_and_xpaths_that_are_to_be_mapped"><a class="anchor" href="#_identification_of_the_form_elements_and_the_corresponding_xml_elements_and_xpaths_that_are_to_be_mapped"></a>Identification of the Form Elements (and the Corresponding XML Elements and XPaths) that are to be mapped</h4>
<div class="paragraph">
<p>The identification of the the XML elements that contain information to be mapped to RDF requires that the following are examined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The “Standard Forms to eForms” mapping table that corresponds to the form that is to be mapped is used. This provides both the list of the form elements, and XPath expressions that can be used to retrieve the desired information:  XML elements, attributes, etc, from the XML data.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
XPaths can be straight forward or complex. Multiple XPaths are used to retrieve alternative values. These XPaths need to be tested to establish whether simpler, better and/or more appropriate ones can be written.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>TED_EXPORT.xsd</strong> schema file, corresponding to the XML version to be mapped.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Special attention should be paid to the structure of the XML document (especially when we have repeating elements, or multiple levels of nesting, sometimes involving elements with very similar names)
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>PDF form</strong> being mapped, to make sure that all elements are considered verified and the correct semantic of the fields has been identified.</p>
</li>
<li>
<p>Individual XML notices available in the test data set, as well as data extracted from these and compiled in tables to provide an overview of the different values  contained in test data  fields.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_the_identification_of_eforms_business_terms_bt_corresponding_to_the_xml_elements_optional"><a class="anchor" href="#_the_identification_of_eforms_business_terms_bt_corresponding_to_the_xml_elements_optional"></a>The Identification of eForms Business Terms (BT) corresponding to the XML elements (optional)</h4>
<div class="paragraph">
<p>Although this is not necessary for the conversion of the Standard Form XML to RDF data, it is still useful, from a future-oriented perspective,  to identify the eForms Business Terms corresponding to each Standard Form element. This is relatively straight forward using the “Standard Forms to eForms” mapping table.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_identification_of_epo_terms_classes_and_relations_that_correspond_to_xml_elements_and_their_relationships"><a class="anchor" href="#_the_identification_of_epo_terms_classes_and_relations_that_correspond_to_xml_elements_and_their_relationships"></a>The Identification of ePO terms (classes and relations) that correspond to XML elements and their relationships</h4>
<div class="paragraph">
<p>In this step, the relevant classes, class attributes, and relationships between the ePO classes used to represent the information contained in the XML elements is identified. This requires a deep understanding of the ePO model.</p>
</div>
<div class="paragraph">
<p>Identifying the relevant ePO terms may be complex, as there is a significant difference between the conceptualisations and abstractions made in the two models, and also in the names used for the same concept between models. Consultation with subject matter experts regarding the structure and content of the ePO model, is highly recommended.</p>
</div>
<div class="paragraph">
<p>Any problems or discrepancies discovered, that prevent the creation of a perfect (one-to-one) mapping, should be documented. This should be recorded both on the spreadsheet (e.g. by highlighting problematic cells in certain colours and/or adding comments to them), and by describing issues in a separate document that is reviewed and addressed by ePO experts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_identification_of_value_sets_in_xml"><a class="anchor" href="#_the_identification_of_value_sets_in_xml"></a>The Identification of value sets in XML</h4>
<div class="paragraph">
<p>To identify the value sets (i.e. the possible different values) that are used in the XML data, either as certain element names, or attribute values), the following are examined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>TED_EXPORT.xsd</strong> schema file, corresponding to the XML version being mapped,</p>
</li>
<li>
<p>The values that appear in the sample XML notices.</p>
</li>
<li>
<p>The <strong>PDF form</strong> that is being mapped, to establish whether the form specifies an obvious value set, e.g. by means of checkboxes or radio buttons.</p>
</li>
<li>
<p>The authority tables used in the EPO available from the <a href="https://op.europa.eu/en/web/eu-vocabularies/authority-tables">EU Vocabularies</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_the_identification_of_value_sets_in_the_epo_and_other_vocabularies_corresponding_to_xml_controlled_values_used_in_the_xml_files"><a class="anchor" href="#_the_identification_of_value_sets_in_the_epo_and_other_vocabularies_corresponding_to_xml_controlled_values_used_in_the_xml_files"></a>The Identification of value sets in the ePO and other vocabularies corresponding to XML controlled values used in the XML files</h4>
<div class="paragraph">
<p>In this step the identification of the different vocabularies referenced by ePO attributes and relationships involved in the mapping of a certain XML element is done. A familiarity with the vocabulary should be achieved. At a minimum, what namespace is used, what some of their values are, and how are they encoded should be understood (i.e. which properties they are using to encode labels, ids, etc).</p>
</div>
</div>
<div class="sect3">
<h4 id="_writing_turtle_fragments_that_provide_a_template_for_the_triples_to_be_generated_that_are_used_in_the_rml_mapping_rules"><a class="anchor" href="#_writing_turtle_fragments_that_provide_a_template_for_the_triples_to_be_generated_that_are_used_in_the_rml_mapping_rules"></a>Writing Turtle fragments that provide a template for the triples to be generated, that are used in the RML mapping rules</h4>
<div class="paragraph">
<p>Below is an example of an input (XML notice&#8217;s fragment), and it&#8217;s transformation (RDF result) of an organisation definition.</p>
</div>
<div class="sect4">
<h5 id="_xml_fragment_source_xml"><a class="anchor" href="#_xml_fragment_source_xml"></a>XML fragment (source.xml)</h5>
<div class="listingblock">
<div class="content">
<pre>&lt;TED_EXPORT&gt;
    &lt;FORM_SECTION&gt;
        &lt;F03_2014 CATEGORY="ORIGINAL" FORM="F03" LG="PT"&gt;
            &lt;CONTRACTING_BODY&gt;
                &lt;ADDRESS_CONTRACTING_BODY&gt;
                    &lt;OFFICIALNAME&gt;Administração Regional de Saúde do Alentejo, I. P.&lt;/OFFICIALNAME&gt;
                &lt;ADDRESS_CONTRACTING_BODY&gt;
            &lt;CONTRACTING_BODY&gt;
        &lt;F03_2014 CATEGORY="ORIGINAL" FORM="F03" LG="PT"&gt;
    &lt;FORM_SECTION&gt;
&lt;TED_EXPORT&gt;</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_expected_rdf_result_result_ttl"><a class="anchor" href="#_expected_rdf_result_result_ttl"></a>Expected RDF result (result.ttl)</h5>
<div class="listingblock">
<div class="content">
<pre>@prefix org: &lt;http://www.w3.org/ns/org#&gt; .
@prefix epo: &lt;http://data.europa.eu/a4g/ontology#&gt; .

epo:Organization/2021-S-001-000163/ab152979-15bf-30c3-b6f3-e0c554cfa9d0
    a org:Organization;
    epo:hasName "Administração Regional de Saúde do Alentejo, I. P."@pt .</pre>
</div>
</div>
<div class="paragraph">
<p>The corresponding RML rules to do such a transformation are in the section: <a href="#_writing_rml_rules">Writing RML rules</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_identifying_and_documenting_problemsissuequestions_requiring_consultation_with_external_experts"><a class="anchor" href="#_identifying_and_documenting_problemsissuequestions_requiring_consultation_with_external_experts"></a>Identifying and documenting problems/issue/questions requiring consultation with external experts</h4>
<div class="paragraph">
<p>The way RML rules are written (see <a href="#_technical-mapping-modularisation-chapter">technical mapping chapter</a>) is in a TripleMap.</p>
</div>
<div class="paragraph">
<p>Each one contains:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"LogicalSource" that gives information about the <strong>source</strong> (XML file to transform)</p>
</li>
<li>
<p>"referenceFormulation" which is the language used to parse the source.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>An up to date version of RML Mapper that supports XPath 2.0/3.0 is used which supports the default namespaces.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_steps_involved_in_the_technical_mapping_process"><a class="anchor" href="#_the_steps_involved_in_the_technical_mapping_process"></a>The steps involved in the technical mapping process</h3>
<div class="paragraph">
<p>This section describes what needs to be addressed in the technical mapping step of the mapping creation process.</p>
</div>
<div class="sect3">
<h4 id="_the_identification_of_the_necessary_sources_for_mapping_execution"><a class="anchor" href="#_the_identification_of_the_necessary_sources_for_mapping_execution"></a>The identification of the necessary sources for mapping execution</h4>
<div class="paragraph">
<p>All necessary sources must be defined correctly in the YARRRML/RML files, and refer to files that already exist, or that will be available in the mapping package when running the mapping.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The path to the source files should be specified relative to the RML file(s) e.g., if the RML mapping files are in the transformation/mappings folder (as described above), then the sources they define should point to the <code>../../data/data.xml</code> file, respectively to the various <code>.json</code>, <code>.csv</code> and/or <code>.xml</code> files in the <code>./resources</code> folder
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_preparation_of_vocabulary_files_and_other_dictionaries_used_as_resources_for_the_mapping"><a class="anchor" href="#_preparation_of_vocabulary_files_and_other_dictionaries_used_as_resources_for_the_mapping"></a>Preparation of vocabulary files, and other “dictionaries” used as resources for the mapping</h4>

</div>
<div class="sect3">
<h4 id="_preparing_test_data"><a class="anchor" href="#_preparing_test_data"></a>Preparing test data</h4>
<div class="paragraph">
<p>The <a href="preparing-test-data.html" class="xref page">representative sample data selection chapter</a> should be referred to.</p>
</div>
</div>
<div class="sect3">
<h4 id="_writing_yarrrml_rules_optional"><a class="anchor" href="#_writing_yarrrml_rules_optional"></a>Writing YARRRML Rules (optional)</h4>
<div class="paragraph">
<p>During the initial phase of the mapping creation process, the writing of the mapping rules in <a href="https://rml.io/yarrrml/spec/">YARRRML</a> (a human-readable text-based representation for declarative generation rules), instead of RML took place, because it seemed simpler, and the end result was more human friendly. However, as more experience and confidence in how the mappings should be defined was gained, it was realised that writing RML rules directly could be even more powerful, and the project started to rewrite all the YARRRML mapping rules into RML. If this transition proves to be successful, and writing RML rules directly will be more convenient, our process will not require writing YARRRML rules in the future. This is the reason for why this step is optional. It could be useful for small test cases, quick demos, or showcases, and in cases when some people are more familiar with YARRRML than RML. If people decide to write YARRRML rules, the next step will become unnecessary, as the RML rules will be automatically generated from the YARRRML rules, using <a href="toolchain.html" class="xref page">dedicated tools</a> that were developed for this purpose.</p>
</div>
<div class="paragraph">
<p>Since this step is optional, the individual issues that need to be worked on will not be described in detail , but they are in principle the same as the ones described in the next section.</p>
</div>
</div>
<div class="sect3">
<h4 id="_writing_rml_rules"><a class="anchor" href="#_writing_rml_rules"></a>Writing RML rules</h4>
<div class="paragraph">
<p>In the previous step the mapping rules were defined in YARRRML. This step consists of the simple action of executing <a href="toolchain.html" class="xref page">the tool that generates RML out of YARRRML</a>.</p>
</div>
<div class="paragraph">
<p>Regardless of which file is chosen to be defined manually, YARRRML or RML, the goal of this step is to have an RML mapping file that should be able to convert an XML notice into a corresponding RDF graph.</p>
</div>
<div class="paragraph">
<p><strong>In the rest of this section the assumption is made that the RML rules are being written manually</strong>, as this is the solution that offers the greatest potential benefit, and the approach that is likely to be pursued in the future.</p>
</div>
<div class="paragraph">
<p>The technical mappings are written in the <a href="https://rml.io/">RML mapping language</a>. The version of RML used is <a href="https://github.com/julianrojas87/rmlmapper-java">5.0.0-r362</a>, which was recommended to us by Julian Rojas, its principal developer, in which  <a href="https://www.w3schools.com/xml/xpath_intro.asp">XPath</a> version <a href="https://www.w3.org/TR/xpath-31/">3.1</a> is supported.</p>
</div>
<div class="sect4">
<h5 id="_prefix_definition"><a class="anchor" href="#_prefix_definition"></a>Prefix definition</h5>
<div class="paragraph">
<p>To specify the technical mappings in RML, the definition of the prefixes that are used in the mapping file must be defined first. For example for the ePO ontology, the epo prefix name is defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@prefix epo: &lt;http://data.europa.eu/a4g/ontology#&gt; .</pre>
</div>
</div>
<div class="paragraph">
<p>The prefix names and their values, which are used in the RML file, should ALL be maintained in the <a href="https://github.com/OP-TED/ted-rdf-conversion-pipeline/blob/feature/TED-311/ted_sws/resources/prefixes/prefixes.json"><code>prefixes.json</code></a> resource file. If the content of that file is maintained and kept up to date consistently, the entire prefix declaration section of the RML file could be automatically generated, and re-generated when necessary. (Note: Besides the individual prefixes, the array that is the assigned value to the <code>rml_rules</code> key should be viewed).</p>
</div>
</div>
<div class="sect4">
<h5 id="_triplesmap"><a class="anchor" href="#_triplesmap"></a>TriplesMap</h5>
<div class="paragraph">
<p>After the definition of prefixes, the next step is to define the various TriplesMaps for the creation of class instances. For example, an organisation&#8217;s technical mapping:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;#OrganisationMapping&gt; a rr:TriplesMap ;
   rml:logicalSource
       [
           rml:source "source.xml" ;
           rml:referenceFormulation ql:XPath
           rml:iterator "/TED_EXPORT/FORM_SECTION/F03_2014/CONTRACTING_BODY/ADDRESS_CONTRACTING_BODY" ;

       ] ;</pre>
</div>
</div>
<div class="paragraph">
<p>The TriplesMap of this organisation is called “OrganisationMapping”. This name is a unique reference used to generate the rdf dataset, and to refer to it in other mappings.</p>
</div>
<div class="paragraph">
<p>A TripleMap has:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>rml:logicalSource</code> : containing the source (it can be the xml notice that is being  transformed, or a CSV/JSON file containing the controlled values)</p>
</li>
<li>
<p><code>rml:referenceFormulation</code> : defining the parser for the file. In the case of the XML notices XPath is used, while for the CSV/JSON files it is <code>ql:CSV/ql:JsonPath</code></p>
</li>
<li>
<p><code>rml:iterator</code> : the path were the RML mapping starts iterating for this Organisation Mapping.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_subjectmap"><a class="anchor" href="#_subjectmap"></a>SubjectMap</h5>
<div class="paragraph">
<p>The subjectMap describes how to generate a unique subject value of a TriplesMap (e.g. Organisation).</p>
</div>
<div class="listingblock">
<div class="content">
<pre> rr:subjectMap
       [
           rr:template
               "http://data.europa.eu/a4g/resource/Organisation/{replace(replace(/TED_EXPORT/CODED_DATA_SECTION/NOTICE_DATA/NO_DOC_OJS, ' ', '-' ), '/' , '-')}/{substring-before(substring-after(unparsed-text('https://www.uuidtools.com/api/generate/v3/namespace/ns:url/name/' || count(preceding::*)+1),'[\"'),'\"]')}" ;
           rr:class org:Organization

       ] ;</pre>
</div>
</div>
<div class="paragraph">
<p>The subject should be unique to each different organisation found in an XML notice. To do that, a concatenation of</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a cleaned reference of the notice file
<code>replace(replace(/TED_EXPORT/CODED_DATA_SECTION/NOTICE_DATA/NO_DOC_OJS, ' ', '-' ), '/' , '-')</code>; and</p>
</li>
<li>
<p>a cleaned result of a <code>MD5</code> function which returns a UUID based on the position of the iterator that is unique to each organisation on the XML notice is used. This is done with <code>substring-before(substring-after(unparsed-text('https://www.uuidtools.com/api/generate/v3/namespace/ns:url/name/' || count(preceding::*)+1),'[\"'),'\"]')</code>;</p>
</li>
<li>
<p>the type of the mapping is defined by rr:class org:Organization</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This solution also helps us to handle having nested tags, by giving each of them a different uuid via the result of the position XPath function.</p>
</div>
</div>
<div class="sect4">
<h5 id="_predicateobjectmap"><a class="anchor" href="#_predicateobjectmap"></a>predicateObjectMap</h5>
<div class="paragraph">
<p>A nested set of predicates objects map to each predicate/object of the organisation instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>rr:predicateObjectMap
   [
   rr:predicate epo:hasName ;
   rr:objectMap
           [
               rml:reference "OFFICIALNAME"
           ]
   ] ;</pre>
</div>
</div>
<div class="paragraph">
<p>In this part of a TriplesMap we find two components:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A predicate <code>rr:predicate epo:hasName</code> ;</p>
</li>
<li>
<p>An objectMap, which can be either</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>a rml:reference which is the XPath (starting from the iterator) into the XML notice corresponding to the value of the predicate (OFFICIALNAME), or</p>
</li>
<li>
<p>a rml:template that contains a combination of string and XPath expression</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_referencing_other_mappings"><a class="anchor" href="#_referencing_other_mappings"></a>Referencing other mappings</h5>
<div class="paragraph">
<p>A referencing object map allows using the subjects of another Triplesmap as the objects generated by a predicate-object map.
There are two use cases for connecting two TriplesMaps using the <code>rr:parentTriplesMap</code> pattern</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A referencing object map is represented by a resource that has exactly one <code>rr:parentTriplesMap</code> property (without joint condition). Here is an example of connecting the Organisation to its ContactPoint</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>rr:predicateObjectMap
   [
       rr:predicate epo:hasDefaultContactPoint ;
       rr:objectMap
           [
               rr:parentTriplesMap &lt;#ContactPoint&gt;
           ] ;
   ] ;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>A referencing object map is represented by a resource that has many <code>rr:parentTriplesMap</code> properties (we use a <code>rr:joinCondition</code>). Below is an example of connecting an Address to its NUTS code:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>rr:predicateObjectMap
   [
       rr:predicate locn:adminUnitL1 ;
       rr:objectMap
           [
               rr:parentTriplesMap &lt;#nuts&gt;;
               rr:joinCondition [
                   rr:child "*:NUTS/@CODE";
                   rr:parent "code.value";
               ];
           ] ;
   ] ;</pre>
</div>
</div>
<div class="paragraph">
<p>A join condition is represented by a resource that has exactly one value for each of the following two properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rr:child</code>, whose value is known as the join condition&#8217;s child reference (the path into the Address TriplesMap)</p>
</li>
<li>
<p><code>rr:parent</code>, whose value is known as the join condition&#8217;s parent source (the path into the ContactPont TriplesMap))</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_document_technical_and_philosophical_issues"><a class="anchor" href="#_document_technical_and_philosophical_issues"></a>Document technical and philosophical issues</h3>
<div class="paragraph">
<p>While writing the mapping rules, it is necessary to document any issues that are not solvable, or that raise interesting questions.
If warranted, a Jira task should be also created to address the given issue.</p>
</div>
<div class="paragraph">
<p>Problems that were successfully resolved should be integrated into this guide as recommendations. Deleting the issue from the “Problem description” document is NOT recommended, so that the different issues can be kept track of, and that thinking process that went into choosing the ultimate solution(s) is recorded.</p>
</div>
</div>
<div class="sect2">
<h3 id="_technical-mapping-modularisation-chapter"><a class="anchor" href="#_technical-mapping-modularisation-chapter"></a>Create RML Rules Modules</h3>
<div class="paragraph">
<p>Forms tend to have similar or identical sections i.e., represent the same information. For example form F03 and F06 have the same section 1, which is the information about the contract authority.</p>
</div>
<div class="paragraph">
<p>To remove the need to write transformation rules twice (for section 1 of F03 and section 1 of F06), a module system has been set up which consists of writing transformation rules that are reusable by several forms. This has the following advantages:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Not needing to rewrite the same rules several times for different forms (avoiding duplication of rules).</p>
</li>
<li>
<p>When updating the ePO ontology, the modification will only need to be updated once and will then be passed to all the affected forms.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As explained in the
technical mapping creation section, a TripleMap represents a mapping of an XML element and its content with one class in the ontology, and a set of its predicates objects. To have a module that can be reused on many forms, only the predicates objects of a TripleMap are defined in the module files. The logical sources and subjects map, needed in every TripleMap object, are described separately in the main file as they contain information specific to every form, making these parts of the TripleMap object non-reusable. For example a module that contain an organisation looked like that:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;#OrganisationMapping&gt; a rr:TriplesMap ;
	rr:predicateObjectMap
		[
		rr:predicate epo:hasName ;
		rr:objectMap
				[
					rml:reference "OFFICIALNAME"
				]
		] ;</pre>
</div>
</div>
<div class="paragraph">
<p>This module is extended in the main file of F03 by adding the logicalSource and the SubjectMap in this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;#OrganisationMapping&gt; a rr:TriplesMap ;
	rml:logicalSource
		[
			rml:source "source.xml" ;
			rml:referenceFormulation ql:XPath
			rml:iterator "/TED_EXPORT/FORM_SECTION/F03_2014/CONTRACTING_BODY/ADDRESS_CONTRACTING_BODY" ;

		] ;
	rr:subjectMap
		[
			rr:template
				"http://data.europa.eu/a4g/resource/Organisation/uuid_generation_function ;
			rr:class epo:Organisation

		] ;</pre>
</div>
</div>
<div class="paragraph">
<p>The modules are stored in the ted-rdf-mapping project in the <code>src/mappings</code> folder.
Five modules that represent the five sections of F03 and part of F06/F25, and one for Annex D1, which is part of F03 are covered. These are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>s1_contracting_authority.rml.ttl</p>
</li>
<li>
<p>s2_object.rml.ttl</p>
</li>
<li>
<p>s4_procedure.rml.ttl</p>
</li>
<li>
<p>s5_award_of_contract.rml.ttl</p>
</li>
<li>
<p>s6_complementary_information.rml.ttl</p>
</li>
<li>
<p>annex_d1.rml.ttl</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The project contains one <code>src/mappings</code> folder containing all the modules files and one "main" entry point mapping file for each form package. Here is a representation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/ted-rdf-mapping
	/XXX
	/mappings
		/package_F03
			/transformation
				XXXX
				/mappings
					...
					technical_mapping_F03.rml.ttl
		/package_FXX
			/transformation
				XXXX
				/mappings
					...
					technical_mapping_FXX.rml.ttl
	/src
		/mappings
			annex_d1.rml.ttl
			s1_contracting_authority.rml.ttl
			s2_object.rml.ttl
			s4_procedure.rml.ttl
			s5_award_of_contract.rml.ttl
			s6_complementary_information.rml.ttl
			technical_mapping_F03.rml.ttl
			technical_mapping_FXX.rml.ttl</pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>Any comments on the documentation?</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/OP-TED/ted-rdf-docs/issues/new/choose">Click here to let us know</a></p>
</div>
</div>
</div>
</div>
</article>
    <div id="widgetContainer">
      <article class="widget">
<div class="widget-title">
    <p>Access other sites in the TED family</p>
  </div>
  <div class="links">
    <a href="https://enotices2.ted.europa.eu/" target="_blank">eNotices2</a>
    <a href="https://developer.ted.europa.eu/" target="_blank">TED Developer Portal</a>
    <a href="https://ted.europa.eu/" target="_blank">TED Website</a>
  </div>
</article>
    </div>
  </div>
</main>

<script>
  // Get the current URL
  var url = window.location.href;

  // Check if the URL ends with 'home/index.html'
  if (!url.endsWith('/home/index.html')) {
    // If it doesn't, hide the widget
    document.getElementById('widgetContainer').style.display = 'none';
  }
</script></div>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../../../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<!-- Cookie Consent Kit -->
  <script type="application/json">
    {
      "utility" : "cck",
      "url": {
        "en": "https://ted.europa.eu/en/cookie-choice",
        "fr": "https://ted.europa.eu/fr/cookie-choice"
      },
      "appendix": {
        "en": "We use cookies to improve your experience and analyze our traffic.",
        "fr": "Nous utilisons des cookies pour améliorer votre expérience et analyser notre trafic."
      },
      "target": true
    }
    </script>
    
  <!-- Cookie Consent Kit -->
  <script>
    window.addEventListener("cck_all_accepted", function () {
      var consentAccepted = {consents: {analytics: {status: 1}}};
      ppms.cm.api('setComplianceSettings', consentAccepted, function (new_consent) { });
    });
    window.addEventListener("cck_technical_accepted", function () {
      var consentRejected = {consents: {analytics: {status: 0}}};
      ppms.cm.api('setComplianceSettings', consentRejected, function (new_consent) { });
    });
  </script>
<div class="footer">
    <div class="three-columns">

        <div class="col-md-12 col-lg-4">
            <div class="ls-footer-logo-DD"><a href="https://docs.ted.europa.eu/home/index.html"><img
                        alt="TED Developer Docs" class="ls-op" src="../../../_/img/ted-logo-footer2.png"
                        height="48" /></a></div>
            <span class="ted-footer__title ted-footer__title--main"></span>
            <div class="ted-footer__rich-text">
                <p>This website is managed by:
                    <u>
                        <a href="https://op.europa.eu/en/home" target="_blank">Publications Office of the European
                            Union</a>
                    </u>
                </p>

            </div>
        </div>

        <div class="col-md-12 col-lg-4">

            <h3 class="ted-footer__title">Need Help?</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/en/help-page">Help</a></li>
                <li class="li-footer"><a href="https://ted.europa.eu/en/contact">Contact the TED Helpdesk</a></li>
            </ul>

            <h3 class="ted-footer__title">Follow us</h3>
            <ul class="ul-footer">
                <li class="li-footer">
                    <a href="https://twitter.com/EUTenders"> <img src="../../../_/img/twitter.svg"
                            class="icon-footer" /><span>X/Twitter</span></a>
                    <a href="https://www.youtube.com/playlist?list=PLT5rARDev_rkQdFimoHlpv2Och1H0uBLs"><img
                            src="../../../_/img/youtube.svg" class="icon-footer-2nd" /><span>YouTube</span></a>
                </li>
            </ul>

            <h3 class="ted-footer__title">Legal</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/en/legal-notice" target="_blank">Legal Notice</a>
                </li>
                <li class="li-footer"><a href="https://ted.europa.eu/en/cookie-choice" target="_blank">Cookies</a>
                </li>
                <li class="li-footer"><a
                        href="https://ted.europa.eu/en/accessibility"
                        target="_blank">Accessibility</a>
                </li>
            </ul>

        </div>

        <div class="col-md-12 col-lg-4">

            <h3 class="ted-footer__title">About us</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/">About TED</a></li>
            </ul>

            <h3 class="ted-footer__title">Other services</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a href="https://ted.europa.eu/TED/main/HomePage.do">EU tenders</a></li>
                <li class="li-footer"><a href="https://data.europa.eu/en">European data</a></li>
                <li class="li-footer"><a href="https://op.europa.eu/en/web/eu-vocabularies">EU vocabularies</a></li>
                <li class="li-footer"><a href="https://cordis.europa.eu/">EU research results</a></li>
                <li class="li-footer"><a href="https://op.europa.eu/en/web/who-is-who">EU Whoiswho</a></li>
                <li class="li-footer"><a href="https://op.europa.eu/en/web/librarians-corner">EU publications</a></li>
            </ul>
        </div>
    </div>

    <div class="three-columns">
        <div class="col-md-12 col-lg-4">
            <!--<h2 class="sr-only" id="section-title-op">Publications Office of the European Union</h2> -->

            <div class="ls-footer-logo"><a aria-labelledby="section-title-op" href="/"><img alt="European Union"
                        class="ls-op" /></a></div>
            <span class="ted-footer__title ted-footer__title--main"></span>
           
            <div class="ted-footer__rich-text">
                <p class="byline-footer">Discover more on <a class="ls-underline" href="https://europa.eu/en/home"><span
                            style="word-break: keep-all; white-space: nowrap; text-decoration: underline!important">europa.eu</span></a>
                </p>

            </div>
        </div>
        <div class="col-md-12 col-lg-4">
            <h3 class="ted-footer__title">Contact the EU</h3>

            <ul class="ul-footer">
                <li class="li-footer"><a href="tel:0080067891011">Call us 00 800 6 7 8 9 10 11</a></li>
                <li class="li-footer"><a href="https://european-union.europa.eu/contact-eu/call-us_en">Use other
                        Telephone options</a></li>
                <li class="li-footer"><a href="https://european-union.europa.eu/contact-eu/write-us_en">Write to us via
                        our contact forms</a></li>
                <li class="li-footer"><a href="https://european-union.europa.eu/contact-eu/meet-us_en">Meet us at one of
                        the EU centres</a></li>

            </ul>

        </div>
        <div class="col-md-12 col-lg-4">
             <h3 class="ted-footer__title">Social Media</h3>
            <ul class="ul-footer">
                <li class="li-footer"><a
                        href="https://european-union.europa.eu/contact-eu/social-media-channels_en#/search"><i
                            aria-hidden="true" class="gs-icon-twitter"></i>Search of EU social media channels</a></li>

            </ul>
            <h3 class="ted-footer__title">EU institutions and bodies</h3>

            <ul class="ul-footer">
                <li class="li-footer institutions"><a href="https://european-union.europa.eu/institutions-law-budget/institutions-and-bodies/search-all-eu-institutions-and-bodies_en">Search all EU institutions and bodies</a></li>
               
            </ul>
        </div>
    </div>
</div>  </body>
</html>
