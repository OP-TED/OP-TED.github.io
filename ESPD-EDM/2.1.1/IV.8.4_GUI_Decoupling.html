<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: TED Developer Documentation</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/ESPD-EDM/2.1.1/IV.8.4_GUI_Decoupling.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/custom.css">
    <link rel="stylesheet" href="../../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../_/img/icons/favicon-16x16.png">
    <link rel="manifest" href="../../_/img/icons/site.webmanifest">
    <link rel="mask-icon" href="../../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="9zNtA8Mxo6eMk-CIvQQbCvXFWjOoAHT6phYIK3saIV4" />
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://docs.ted.europa.eu">
                <img src="../../_/img/ted-logo.svg" class="logo" />
                <span class="navbar-title">TED Developer Documentation</span>
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="https://docs.ted.europa.eu">Home</a>
                <div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Products</a>
  <div class="navbar-dropdown">
      <a class="navbar-item" href="../../eforms/latest/index.html">eForms SDK</a>
      <a class="navbar-item" href="../../EPO/latest/index.html">eProcurement Ontology</a>
      <a class="navbar-item" href="../latest/index.html">ESPD EDM</a>
  </div>
</div>


<div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Resources</a>
  <div class="navbar-dropdown">
    <!-- <div class="navbar-item"><b>Publications Ofiice</b></div> -->
    <a class="navbar-item" href="https://github.com/OP-TED/eForms-SDK">eForms SDK on Github</a>
    <a class="navbar-item" href="https://simap.ted.europa.eu/web/simap/eforms">eForms on SIMAP</a>
    <a class="navbar-item" href="https://github.com/eprocurementontology/eprocurementontology">eProcurement
      Ontology</a>
    <a class="navbar-item" href="https://github.com/espd/espd-edm">European Single Procurement Document</a>
    <a class="navbar-item" href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tables">eProcurement in
      EU Vocabularies</a>
    <hr class="navbar-divider">
    <!-- <div class="navbar-item"><b>DG GROW</b></div>-->
    <a class="navbar-item" href="https://ec.europa.eu/growth/single-market/public-procurement/digital/eforms_en">About
      eForms</a>
    <!-- <a class="navbar-item" href="https://github.com/eForms/eForms">eForms 2nd consultation</a> -->
  </div>
</div>

<a class="navbar-item" href="https://simap.ted.europa.eu/contact">Helpdesk</a>

                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ESPD-EDM" data-version="2.1.1">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
      <div class="context">
          <span class="title">ESPD EDM</span>
          <span class="version">2.1.1</span>
      </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../../eforms/latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version">
              <a href="../../eforms/1.9/index.html">1.9.0</a>
            </li>
            <li class="version is-latest">
              <a href="../../eforms/latest/index.html">1.8.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.7/index.html">1.7.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.6/index.html">1.6.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.5/index.html">1.5.1</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.4/index.html">1.4.1</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.3/index.html">1.3.2</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.2/index.html">1.2.1</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.1/index.html">1.1.1</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version">
              <a href="../../EPO/4.0.0/index.html">4.0.0-rc.1</a>
            </li>
            <li class="version is-latest">
              <a href="../../EPO/latest/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/1/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component is-current">
        <a class="title" href="../latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../latest/index.html">3.3.0</a>
            </li>
            <li class="version">
              <a href="../3.2.0/index.html">3.2.0</a>
            </li>
            <li class="version">
              <a href="../3.1.0/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version is-current">
              <a href="index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../2.1.0/index.html">2.1.0</a>
            </li>
            <li class="version">
              <a href="../2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2.1.1</button>
  <div class="version-menu">
    <a class="version is-missing" href="../latest/index.html">3.3.0</a>
    <a class="version is-missing" href="../3.2.0/index.html">3.2.0</a>
    <a class="version is-missing" href="../3.1.0/index.html">3.1.0</a>
    <a class="version is-missing" href="../3.0.1/index.html">3.0.1</a>
    <a class="version is-current" href="IV.8.4_GUI_Decoupling.html">2.1.1</a>
    <a class="version" href="../2.1.0/IV.8.4_GUI_Decoupling.html">2.1.0</a>
    <a class="version is-missing" href="../2.0.2/index.html">2.0.2</a>
    <a class="version is-missing" href="../1.0.2/index.html">1.0.2</a>
  </div>
</div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect3">
<h4 id="_business_data_and_gui_decoupling"><a class="anchor" href="#_business_data_and_gui_decoupling"></a>Business data and GUI decoupling</h4>
<div class="paragraph">
<p>The business domain semantics should be decoupled from its management processes. Thus eBusiness Documents <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> should
not contain processing instructions but just data about the business domain. One counter-example for this statement are
those cases when the XML instances contain processing instructions for a software GUI solution to manage how the layout
must behave or how the data must be presented.</p>
</div>
<div class="paragraph">
<p>For the time being, the ESPD-EDM does not conform 100% to this rule: the purpose of the code lists <code>PropertyGroupType</code> and
<code>BooleanGUIControlType</code> and of the CAPTION tag aim precisely to the opposite. They are not part of the Business
Domain Data Model.</p>
</div>
<div class="paragraph">
<p>One reason that led to include these kind of "processing instructions" in the ESPD-Exchange Data Model is the
high level of abstraction of the ISA2 Core Criterion and Evidence Vocabulary (CCEV) (the UBL-2.2 <code>cac:TenderingCriterion</code>
is a specialisation of this vocabulary). As GROUPs and SUBGROUPS of REQUIREMENT(s) and of QUESTION(s) may be freely and
unlimitedly nested, the software applications may have a
hard time to detect whether a GROUP or SUBGROUP contains REQUIREMENT(s) and QUESTION(s) or just QUESTION(s) (which is usual in
the ESP-EDM specification). Or vice-versa, if a GROUP or SUBGROUP comes first with QUESTION(s) followed by REQUIREMENT(s)
(something that never happens in the ESPD-EDM specification).</p>
</div>
<div class="paragraph">
<p>One way for the ESPD-EDM to help software applications understand that a nested data structure is a GROUP of
REQUIREMENT(s) or just of QUESTION(s) would have been codifying it as "REQUIREMENT_GROUP" or "QUESTION_GROUP", using for that purpose
the element <code>cbc:PropertyGroupTypeCode</code> element (similarly to what is done with the <code>cbc:TypeCode</code> element inside the
<code>cac:TenderingCriterionProperty</code>). However for backwards compatibility reasons with the MS software applications the
decision was made to reserve the <code>cbc:PropertyGroupTypeCode</code> to control the GUI behaviour by means of the values
defined in the code list
<a href="https://github.com/OP-TED/ESPD-EDM/blob/v2.1.1/docs/src/main/asciidoc/modules/ROOT/dist/cl/xlsx/ESPD-CodeLists-V2.1.1.xlsx">PropertyGroupType</a>
(codes ON*, ONTRUE and ONFALSE).</p>
</div>
<div class="paragraph">
<p>The way currently used by software applications to detect whether a GROUP (or SUBGROUP) carries REQUIREMENT(s) or not is to
look at the type of the first criterion property: if the first <code>cac:TenderingCriterionProperty</code> is of <code>cbc:TypeCode</code>
value <code>REQUIREMENT</code> then it is a <code>REQUIREMENT_GROUP</code>, if it is of value <code>QUESTION</code> then the GROUP (or SUBGROUP) contains
only QUESTION(s).</p>
</div>
<div class="paragraph">
<p>In future versions, the ESPD-EDM should get rid of these codes and mechanisms that couple the eProcurement Data Model to the
dynamic building-up of the Graphic User Interfaces (GUIs) or to other processing needs. One possible solution could be to separate the
particular software applications needs from the business data model by means of ''annotations'' that can be linked to each
data element that needs it, at integration data time (i.e. when acquiring the data; e.g. just after
the reception of an eBusiness Document from another system).</p>
</div>
<div class="paragraph">
<p>For this, imagine that each element of the Criteria Taxonomy data structures could contain (or be preceded by) one or more
instructions addressed to the software application for one particular purpose, as illustrated in the figure below (elements
starting with an <strong>@</strong> symbol):</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="_images/Extended_ESPD_Request-AnnotatedCriterion-Proposal.png" alt="PI annotations">
</div>
<div class="title">Figure 1. Annotation with processing instructions of one Criterion Data Structures</div>
</div>
<div class="paragraph">
<p>The fragment of XML code below illustrates how a mediation service, after reception and storage
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>,
could enrich the XML instance containing the business data with processing instruction annotations, based on the annotated data structure shown above
(the complete example can be found in the folder
<a href="https://github.com/OP-TED/ESPD-EDM/tree/v2.1.1/docs/src/main/asciidoc/modules/ROOT/dist/doc/evolution/Annotations_Proposal">Annotations Proposal</a></p>
</div>
<div class="listingblock">
<div class="title">Use of annotations to decouple the business data payload from the software application processing needs</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- Criterion:Enrolment in a relevant professional register --&gt;
&lt;cac:TenderingCriterion&gt;
&lt;cbc:ID schemeID="CriteriaTaxonomy" schemeAgencyID="EU-COM-GROW"
schemeVersionID="2.1.1"&gt;6ee55a59-6adb-4c3a-b89f-e62a7ad7be7f&lt;/cbc:ID&gt;
&lt;cbc:CriterionTypeCode listID="CriteriaTypeCode" listAgencyID="EU-COM-GROW"
listVersionID="2.1.1"
&gt;CRITERION.SELECTION.SUITABILITY.PROFESSIONAL_REGISTER_ENROLMENT&lt;/cbc:CriterionTypeCode&gt;
&lt;cbc:Name&gt;Enrolment in a relevant professional register&lt;/cbc:Name&gt;
&lt;cbc:Description&gt;It is enrolled in relevant professional registers kept in the
Member State of its establishment as described in Annex XI of Directive
2014/24/EU; economic operators from certain Member States may have to comply
with other requirements set out in that Annex.&lt;/cbc:Description&gt;
&lt;!-- ... --&gt;
&lt;cac:TenderingCriterionPropertyGroup&gt;
&lt;xs:annotation&gt;<i class="conum" data-value="1"></i><b>(1)</b>
        &lt;xs:documentation&gt;This is a root GROUP OF REQUIREMENT(s) INSIDE A CRITERION.&lt;/xs:documentation&gt;<i class="conum" data-value="2"></i><b>(2)</b>
        &lt;xs:documentation&gt;This group must be processed (e.g. shown) ALWAYS.&lt;/xs:documentation&gt;
        &lt;espd:groupVisibilityDependencyType&gt;ON*&lt;/espd:groupVisibilityDependencyType&gt;<i class="conum" data-value="3"></i><b>(3)</b>
&lt;/xs:annotation&gt;
&lt;cbc:ID schemeID="CriteriaTaxonomy" schemeAgencyID="EU-COM-GROW"
        schemeVersionID="2.1.1"
        &gt;a53561d5-6614-4dbe-987e-b96f35387f46&lt;/cbc:ID&gt;
&lt;cbc:PropertyGroupTypeCode listID="PropertyGroupType"
        listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
        &gt;CRITERION_REQUIREMENT_GROUP&lt;/cbc:PropertyGroupTypeCode&gt;<i class="conum" data-value="4"></i><b>(4)</b>
&lt;cac:TenderingCriterionProperty&gt;
        &lt;xs:annotation&gt; <i class="conum" data-value="5"></i><b>(5)</b>
                &lt;xs:documentation&gt;This is a DUMMY PROPERTY: the XSD schema makes its presence compulsory (cardinality 1). It can be used, though, to label a GUI frame to ecompasse the group of properties below.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
        &lt;cbc:ID schemeID="CriteriaTaxonomy" schemeAgencyID="EU-COM-GROW"
                schemeVersionID="2.1.1"
                &gt;9d5da9ce-fa74-405b-a0ce-2c8f6842b71f&lt;/cbc:ID&gt;
        &lt;cbc:Description&gt;Lots the requirement apply to&lt;/cbc:Description&gt;
        &lt;cbc:TypeCode listID="CriterionElementType"
                listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                &gt;CAPTION&lt;/cbc:TypeCode&gt;
        &lt;cbc:ValueDataTypeCode listID="ResponseDataType"
                listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                &gt;NONE&lt;/cbc:ValueDataTypeCode&gt;
&lt;/cac:TenderingCriterionProperty&gt;
&lt;cac:TenderingCriterionProperty&gt;
        &lt;cbc:ID schemeID="CriteriaTaxonomy" schemeAgencyID="EU-COM-GROW"
                schemeVersionID="2.1.1"
                &gt;3be88342-5d6e-4160-a37d-e1dd9fc1e92e&lt;/cbc:ID&gt;
        &lt;cbc:Description&gt;LotIDs&lt;/cbc:Description&gt;
        &lt;cbc:TypeCode listID="CriterionElementType"
                listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                &gt;REQUIREMENT&lt;/cbc:TypeCode&gt;
        &lt;cbc:ValueDataTypeCode listID="ResponseDataType"
                listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                &gt;IDENTIFIER&lt;/cbc:ValueDataTypeCode&gt;
        &lt;!-- No answer is expected here from the economic operator, as this is a REQUIREMENT issued by the contracting authority. Hence the element 'cbc:ValueDataTypeCode' contains the type of value of the requirement issued by the contracting authority --&gt;
        &lt;cbc:ExpectedID schemeAgencyID="EU-COM-GROW"&gt;[List of Lots]&lt;/cbc:ExpectedID&gt;
&lt;/cac:TenderingCriterionProperty&gt;
&lt;cac:SubsidiaryTenderingCriterionPropertyGroup&gt;
         &lt;xs:annotation&gt;<i class="conum" data-value="6"></i><b>(6)</b>
                &lt;xs:documentation&gt; This is a SUBGROUP OF REQUIREMENT(s) INSIDE A GROUP OF REQUIREMENT(s).&lt;/xs:documentation&gt;
                &lt;xs:documentation&gt;This group must be processed (e.g. shown) ALWAYS.&lt;/xs:documentation&gt;
					&lt;espd:groupVisibilityDependencyType
							&gt;CRITERION_REQUIREMENT_SUBGROUP&lt;/espd:groupVisibilityDependencyType&gt;
        &lt;/xs:annotation&gt;
        &lt;cbc:ID schemeID="CriteriaTaxonomy" schemeAgencyID="EU-COM-GROW"
                schemeVersionID="2.1.1"
                &gt;3aacb82e-afba-440c-b64e-1834007965a2&lt;/cbc:ID&gt;
        &lt;cbc:PropertyGroupTypeCode listID="PropertyGroupType"
                listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                &gt;CRITERION_REQUIREMENT_SUBGROUP&lt;/cbc:PropertyGroupTypeCode&gt;
        &lt;cac:TenderingCriterionProperty&gt;
                &lt;cbc:ID schemeID="CriteriaTaxonomy"
                        schemeAgencyID="EU-COM-GROW" schemeVersionID="2.1.1"
                        &gt;04a713af-549c-4443-84a8-2bd43f6728bd&lt;/cbc:ID&gt;
                &lt;cbc:Description&gt;Register name&lt;/cbc:Description&gt;
                &lt;cbc:TypeCode listID="CriterionElementType"
                        listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                        &gt;REQUIREMENT&lt;/cbc:TypeCode&gt;
                &lt;cbc:ValueDataTypeCode listID="ResponseDataType"
                        listAgencyID="EU-COM-GROW" listVersionID="2.1.1"
                        &gt;DESCRIPTION&lt;/cbc:ValueDataTypeCode&gt;
                &lt;!-- No answer is expected here from the economic operator, as this is a REQUIREMENT issued by the contracting authority. Hence the element 'cbc:ValueDataTypeCode' contains the type of value of the requirement issued by the contracting authority --&gt;
                &lt;cbc:ExpectedDescription&gt;[Register Name]&lt;/cbc:ExpectedDescription&gt;
        &lt;/cac:TenderingCriterionProperty&gt;

&lt;!-- ... etc. --&gt;</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Block of annotations applied to an element.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Human-addressed description of what processing needs to be applied to the next data element. The description can be split in multiple lines.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Instructs the software application that it must show this GROUP in any case.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Tells the software application what type of GROUP this is (in this case it is a GROUP of REQUIREMENT(s)).</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Note about the "dumminess" of this element.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Next group of annotations, etc&#8230;&#8203;</td>
</tr>
</table>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. the <a href="https://ec.europa.eu/isa2/home_en">ISA2 Programme</a> provides this draft definition for eBusiness Document: "a set of interrelated Business Information representing the business facts, data, or opinions, in any medium or form, including textual, numerical, graphic, cartographic, narrative, or audio-visual forms that the capability exchanges with other capabilities to support the execution of value streams". For the purposes of the ESPD, the content of eBusiness Document is always data structures according to the ESPD-Exchange Data Model (EDM) specification.
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. Received eBusiness Document should be preserved as it was sent, unaltered, before applying any enrichment, otherwise the evidence value would be lost.
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<footer class="footer">
    <div class=columns>
        <div>
  <p>The projects documented in this Developer Documentation Portal are developed and managed by the TED & EU Public Procurement Unit of the Publications Office of the European Union
  <br/>This page was built using a link:https://github.com/OP-TED/antora-eui[fork of the Antora default UI], which is licensed under the terms of the MPL-2.0 license.</p>
</div>
        <div>
            <h3>This website is managed by<h3>
                    <img src="../../_/img/op-logo-with-name.svg" class="logo" />
        </div>
    </div>
</footer>  </body>
</html>
