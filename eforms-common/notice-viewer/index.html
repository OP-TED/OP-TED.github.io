<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Notice Viewer Sample Application :: TED Developer Documentation</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/eforms-common/notice-viewer/index.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/custom.css">
    <link rel="stylesheet" href="../../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../_/img/icons/favicon-16x16.png">
    <link rel="manifest" href="../../_/img/icons/site.webmanifest">
    <link rel="mask-icon" href="../../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="9zNtA8Mxo6eMk-CIvQQbCvXFWjOoAHT6phYIK3saIV4" />
    <script>var uiRootPath = '../../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://docs.ted.europa.eu">
                <img src="../../_/img/ted-logo.svg" class="logo" />
                <span class="navbar-title">TED Developer Documentation</span>
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="https://docs.ted.europa.eu">Home</a>
                <div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Products</a>
  <div class="navbar-dropdown">
      <a class="navbar-item" href="../../eforms/latest/index.html">eForms SDK</a>
      <a class="navbar-item" href="../../EPO/latest/index.html">eProcurement Ontology</a>
      <a class="navbar-item" href="../../ESPD-EDM/latest/index.html">ESPD EDM</a>
  </div>
</div>


<div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Resources</a>
  <div class="navbar-dropdown">
    <!-- <div class="navbar-item"><b>Publications Ofiice</b></div> -->
    <a class="navbar-item" href="https://github.com/OP-TED/eForms-SDK">eForms SDK on Github</a>
    <a class="navbar-item" href="https://simap.ted.europa.eu/web/simap/eforms">eForms on SIMAP</a>
    <a class="navbar-item" href="https://github.com/eprocurementontology/eprocurementontology">eProcurement
      Ontology</a>
    <a class="navbar-item" href="https://github.com/espd/espd-edm">European Single Procurement Document</a>
    <a class="navbar-item" href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tables">eProcurement in
      EU Vocabularies</a>
    <hr class="navbar-divider">
    <!-- <div class="navbar-item"><b>DG GROW</b></div>-->
    <a class="navbar-item" href="https://ec.europa.eu/growth/single-market/public-procurement/digital/eforms_en">About
      eForms</a>
    <!-- <a class="navbar-item" href="https://github.com/eForms/eForms">eForms 2nd consultation</a> -->
  </div>
</div>

<a class="navbar-item" href="https://simap.ted.europa.eu/contact">Helpdesk</a>

                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="eforms-common" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">eForms SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../FAQ/index.html">Frequently Asked Questions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../preview/index.html">Preview Environment</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../active-versions/index.html">Active SDK Versions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../versioning/index.html">SDK Versioning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>General Reference</strong> <code>1.10</code></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/schema/index.html">eForms Specification</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/reference/index.html">Metadata Reference</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>SDK Contents</strong> <code>1.10</code></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/fields/index.html">Field Metadata</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/codelists/index.html">Codelists</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/notice-types/index.html">Notice Types</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/viewer-templates/index.html">View Templates</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/translations/index.html">Translations</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/schemas/index.html">Schemas</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/schematrons/index.html">Schematron</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/efx/index.html">EFX Grammar</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Developer Guide</strong> <code>1.10</code></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/guide/index.html">Start Here</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/guide/understanding-the-sdk.html">Understanding the SDK</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/guide/sdk-glossary.html">SDK glossary</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Working with the SDK</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../eforms/latest/guide/notice-forms.html">Create the forms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../eforms/latest/guide/xml-generation.html">Generate XML</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../eforms/latest/guide/visualisation.html">Visualise notices</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../eforms/latest/guide/validation.html">Validate notices</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../eforms/latest/guide/implementing-eforms-without-the-sdk.html">Working without the SDK</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>SDK Explorer</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><a href="https://docs.ted.europa.eu/eforms-sdk-explorer" target="_blank" rel="noopener">Launch SDK Explorer</a></span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Java Libraries</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../efx-toolkit/index.html">EFX Toolkit</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../eforms-core/index.html">eForms Core</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Sample Applications</strong></span></span>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Notice Viewer (Java)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../notice-editor/index.html">Notice Editor (Java)</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
      <div class="context">
          <span class="title dim">Select a product/version</span>
          <span class="version">&nbsp;</span>
      </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../../eforms/latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version">
              <a href="../../eforms/1.11/index.html">1.11.0</a>
            </li>
            <li class="version is-latest">
              <a href="../../eforms/latest/index.html">1.10.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.9/index.html">1.9.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.8/index.html">1.8.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.7/index.html">1.7.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.6/index.html">1.6.0</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.5/index.html">1.5.1</a>
            </li>
            <li class="version">
              <a href="../../eforms/1.4/index.html">1.4.1</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version">
              <a href="../../EPO/4.1/index.html">4.1.0-rc.1</a>
            </li>
            <li class="version is-latest">
              <a href="../../EPO/latest/index.html">4.0.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/3.1/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../../EPO/1.0.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../../ESPD-EDM/latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../../ESPD-EDM/latest/index.html">3.3.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/3.2.0/index.html">3.2.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/3.1.0/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/2.1.1/index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/2.1.0/index.html">2.1.0</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../../ESPD-EDM/1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">eForms SDK</a></li>
    <li><a href="index.html">Notice Viewer (Java)</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Notice Viewer Sample Application</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>To demonstrate how you can use the eForms SDK in a <strong>metadata driven application</strong> that visualises eForms notices, we have created this sample application. The application is <a href="https://github.com/OP-TED/eforms-notice-viewer">available on Github</a>. You are encouraged to use it for inspiration or as a basis for further development. You are also welcome to contribute with pull requests any improvements that you want to share with us and other eSenders.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The notice viewer is not a production ready application. It is intended to demonstrate the use of concepts and resources available in the eForms SDK. You can use it as an inspiration or a starting point for your own apps.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_goal"><a class="anchor" href="#_goal"></a>Goal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The goal of the application is to create an HTML visualisation of any given XML notice. To do this, the application generates an XSLT template from the corresponding view template found in the eForms SDK, and then uses the generated XSLT to transform the notice XML to HTML.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_it_works"><a class="anchor" href="#_how_it_works"></a>How it works</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The notice-viewer is a command line application written in Java. It takes as a parameter the pathname of the notice XML file to visualise. The target language can also be specified (the default is English).</p>
</div>
<div class="paragraph">
<p>The application opens the given XML file to determine the version number of the eForms SDK needed to visualise it, as well as the notice subtype that the notice corresponds to.</p>
</div>
<div class="paragraph">
<p>Using the notice subtype, the notice-viewer infers the appropriate EFX template needed to visualise the notice.</p>
</div>
<div class="paragraph">
<p>The application loads the eForms metadata from the eForms SDK and uses the EFX translator to translate the selected EFX template to XSLT.</p>
</div>
<div class="paragraph">
<p>It then uses an XSLT processor to transform the notice XML to HTML using the XSLT generated in the previous step. The generated HTML is stored in a local file and can be opened for inspection by the user in any web browser.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_behind_the_scenes"><a class="anchor" href="#_behind_the_scenes"></a>Behind the scenes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The application has a runtime dependency to the eForms SDK. as well as a compile-time dependency to the  <a href="../efx-toolkit/index.html" class="xref page">EFX Toolkit for Java</a> (<code>efx-toolkit-java</code> <a href="https://github.com/OP-TED/efx-toolkit-java">in Github</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">    &lt;!--  eForms SDK --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;eu.europa.ted.eforms&lt;/groupId&gt;
      &lt;artifactId&gt;eforms-sdk&lt;/artifactId&gt;
      &lt;version&gt;0.6.0&lt;/version&gt;
      &lt;scope&gt;runtime&lt;/scope&gt;
    &lt;/dependency&gt;

    &lt;!-- EFX Toolkit --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;eu.europa.ted.eforms&lt;/groupId&gt;
      &lt;artifactId&gt;efx-toolkit-java&lt;/artifactId&gt;
      &lt;version&gt;0.1.0&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The application uses the <code>EfxTranslator</code> included in <code>efx-toolkit-java</code> to generate a XSL template which it then uses to transform the notice XML file to HTML.</p>
</li>
<li>
<p>To access the eForms metadata, the application implements the <code>SymbolResolver</code> interface in its <code>SdkSymbolResolver</code> class.</p>
</li>
<li>
<p>To generate XPath, it uses the <code>XPathScriptGenerator</code> which is included in <code>efx-toolkit-java</code>.</p>
</li>
<li>
<p>To generate XSL, it implements the <code>ScriptGenerator</code> interface in its <code>XslScriptGenerator</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Finally, the application also has a dependency to <a href="https://mvnrepository.com/artifact/net.sf.saxon/Saxon-HE/11.3">Saxon</a>, which it uses to perform the final XSL transformation that generates the HTML output.</p>
</div>
<div class="paragraph">
<p>The <code>EfxTranslator</code> is called to translate the EFX template to XSLT. The translator calls the <code>XPathScriptGenerator</code> to translate EFX expressions to XPath and the <code>XslScriptGenerator</code> to translate the EFX template to XSL markup.</p>
</div>
<div class="paragraph">
<p>After the XSL is generated, the Saxon XSLT processor is called to apply the XSL transformation to the input XML file. References to labels and field values are resolved during this final transformation stage. The label identifiers are resolved directly through the XML files provided in the eForms SDK.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_behaviour_known_issues"><a class="anchor" href="#_behaviour_known_issues"></a>Behaviour &amp; known issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If a label is not found in the available version of the SDK, then the label&#8217;s identifier is displayed instead.</p>
</div>
<div class="paragraph">
<p>The CSS stylesheet is very basic and uses several colors to visually identify different types of artefacts in the final output. For example, "static" labels are displayed with a different color than "dynamic" labels. A "dynamic" label in this context is a label who&#8217;s identifier depends on the value of a field (like the label of a codelist or indicator field). Our goal was not to make the notice visually pleasing, but to make the output more clear to a developer exploring the application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The application actually tries to use the correct version of the SDK as specified in the XML notice being visualised. However, as view templates were not available before eForms SDK version 0.6.0, the application is unable to render notices created with versions of the SDK prior to 0.6.0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The section numbers displayed in the HTML notice are automatically generated (apart from the ones of root level sections). Some numbers may appear to be skipped in the HTML output. This is because the automatic numbering is currently done when the XSL template is being generated, (instead of the time it is being applied to the input). As a result the numbering of sections follows the list of "anticipated sections" rather than the list of "sections actually present" in the XML input. Therefore, if a section is not present in the XML input, then the corresponding section will not appear in the HTML output; however, the numbers of subsequent sections will not be adjusted to eliminate gaps.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The application tries to implement a mechanism for using multiple versions of the eForms SDK in parallel. However, this first version of the application can only work with one version of the SDK as currently there is no other version of the eForms SDK that contains any view templates. Therefore, the current implementation of the mechanism that handles multiple versions of the SDK in parallel is incomplete.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The view templates currently included in SDK 0.7.0 are a "work in progress". You may find templates that contain mistakes or even "to-do" comments included in this version of the SDK.
</td>
</tr>
</table>
</div>
<hr>
<div class="paragraph">
<p><strong>See also:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#viewer-templates:index.adoc" class="xref unresolved">Notice View Templates</a></p>
</li>
<li>
<p><a href="../efx-toolkit/index.html" class="xref page">EFX Toolkit for Java</a></p>
</li>
<li>
<p><a href="#efx:template-syntax.adoc" class="xref unresolved">EFX template syntax</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script src="../../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<footer class="footer">
    <div class=columns>
        <div>
  <p>The projects documented in this Developer Documentation Portal are developed and managed by the TED & EU Public Procurement Unit of the Publications Office of the European Union
  <br/>This page was built using a link:https://github.com/OP-TED/antora-eui[fork of the Antora default UI], which is licensed under the terms of the MPL-2.0 license.</p>
</div>
        <div>
            <h3>This website is managed by<h3>
                    <img src="../../_/img/op-logo-with-name.svg" class="logo" />
        </div>
    </div>
</footer>  </body>
</html>
