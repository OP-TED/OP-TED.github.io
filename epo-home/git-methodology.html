<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git usage methodology :: TED Developer Documentation</title>
    <link rel="canonical" href="https://docs.ted.europa.eu/epo-home/git-methodology.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../_/css/site.css">
    <link rel="stylesheet" href="../_/css/custom.css">
    <link rel="stylesheet" href="../_/css/vendor/docsearch-2.6.3.css">
        <link rel="apple-touch-icon" sizes="180x180" href="../_/img/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../_/img/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../_/img/icons/favicon-16x16.png">
    <link rel="manifest" href="../_/img/icons/site.webmanifest">
    <link rel="mask-icon" href="../_/img/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="../_/img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="../_/img/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="9zNtA8Mxo6eMk-CIvQQbCvXFWjOoAHT6phYIK3saIV4" />
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header">
    <nav class="navbar">
        <div class="navbar-brand">
            <a class="navbar-item" href="https://docs.ted.europa.eu">
                <img src="../_/img/ted-logo.svg" class="logo" />
                <span class="navbar-title">TED Developer Documentation</span>
            </a>
            <button class="navbar-burger" data-target="topbar-nav">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
            <div class="navbar-end">
                <a class="navbar-item" href="https://docs.ted.europa.eu">Home</a>
                <div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Products</a>
  <div class="navbar-dropdown">
      <a class="navbar-item" href="../eforms/latest/index.html">eForms SDK</a>
      <a class="navbar-item" href="../EPO/latest/index.html">eProcurement Ontology</a>
      <a class="navbar-item" href="../ESPD-EDM/latest/index.html">ESPD EDM</a>
  </div>
</div>


<div class="navbar-item has-dropdown is-hoverable">
  <a class="navbar-link" href="#">Resources</a>
  <div class="navbar-dropdown">
    <!-- <div class="navbar-item"><b>Publications Ofiice</b></div> -->
    <a class="navbar-item" href="https://github.com/OP-TED/eForms-SDK">eForms SDK on Github</a>
    <a class="navbar-item" href="https://simap.ted.europa.eu/web/simap/eforms">eForms on SIMAP</a>
    <a class="navbar-item" href="https://github.com/eprocurementontology/eprocurementontology">eProcurement
      Ontology</a>
    <a class="navbar-item" href="https://github.com/espd/espd-edm">European Single Procurement Document</a>
    <a class="navbar-item" href="https://op.europa.eu/en/web/eu-vocabularies/e-procurement/tables">eProcurement in
      EU Vocabularies</a>
    <hr class="navbar-divider">
    <!-- <div class="navbar-item"><b>DG GROW</b></div>-->
    <a class="navbar-item" href="https://ec.europa.eu/growth/single-market/public-procurement/digital/eforms_en">About
      eForms</a>
    <!-- <a class="navbar-item" href="https://github.com/eForms/eForms">eForms 2nd consultation</a> -->
  </div>
</div>

<a class="navbar-item" href="https://simap.ted.europa.eu/contact">Helpdesk</a>

                <div class="navbar-item search">
                    <input id="search-input" type="text" placeholder="Search docs">
                </div>
            </div>
        </div>
    </nav>
</header>
<div class="body">
<div class="nav-container" data-component="epo-home" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">eProcurement Ontology</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../EPO/latest/release-notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../EPO/latest/business.html">Business Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../EPO/latest/conceptual.html">Conceptual Models</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../EPO/latest/glossaries.html">Glossaries</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>General Reference</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="references.html">Reference Documents</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="history.html">History and Planned Developments</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="versioning.html">ePO Versioning Rules</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><span class="separated"><strong>Working Group Documents</strong></span></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../epo-wgm/wider.html">Quarterly Meetings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../epo-wgm/cumulative.html">Cumulative Reports (by year)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../epo-wgm/indiv.html">Individual Meeting Reports</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
      <div class="context">
          <span class="title dim">Select a product/version</span>
          <span class="version">&nbsp;</span>
      </div>
  <ul class="components">
      <li class="component">
        <a class="title" href="../eforms/latest/index.html">eForms SDK</a>
        <ul class="versions">
            <li class="version">
              <a href="../eforms/1.9/index.html">1.9.0</a>
            </li>
            <li class="version is-latest">
              <a href="../eforms/latest/index.html">1.8.0</a>
            </li>
            <li class="version">
              <a href="../eforms/1.7/index.html">1.7.0</a>
            </li>
            <li class="version">
              <a href="../eforms/1.6/index.html">1.6.0</a>
            </li>
            <li class="version">
              <a href="../eforms/1.5/index.html">1.5.1</a>
            </li>
            <li class="version">
              <a href="../eforms/1.4/index.html">1.4.1</a>
            </li>
            <li class="version">
              <a href="../eforms/1.3/index.html">1.3.2</a>
            </li>
            <li class="version">
              <a href="../eforms/1.2/index.html">1.2.1</a>
            </li>
            <li class="version">
              <a href="../eforms/1.1/index.html">1.1.1</a>
            </li>
            <li class="version">
              <a href="../eforms/1.0/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../EPO/latest/index.html">eProcurement Ontology</a>
        <ul class="versions">
            <li class="version">
              <a href="../EPO/4.0.0/index.html">4.0.0-rc.1</a>
            </li>
            <li class="version is-latest">
              <a href="../EPO/latest/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../EPO/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../EPO/2.0.1/index.html">2.0.1</a>
            </li>
            <li class="version">
              <a href="../EPO/2.0.0/index.html">2.0.0</a>
            </li>
            <li class="version">
              <a href="../EPO/1/index.html">1.0.0</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../ESPD-EDM/latest/index.html">ESPD EDM</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../ESPD-EDM/latest/index.html">3.3.0</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/3.2.0/index.html">3.2.0</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/3.1.0/index.html">3.1.0</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/3.0.1/index.html">3.0.1</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/2.1.1/index.html">2.1.1</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/2.1.0/index.html">2.1.0</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/2.0.2/index.html">2.0.2</a>
            </li>
            <li class="version">
              <a href="../ESPD-EDM/1.0.2/index.html">1.0.2</a>
            </li>
        </ul>
      </li>
  </ul>
</div>    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../home/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">eProcurement Ontology</a></li>
    <li><a href="git-methodology.html">Git usage methodology</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Git usage methodology</h1>
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
<div class="paragraph">
<p>This document proposes a methodology on how to use the Git versioning system and as set of generic evolution recommendations and semantic versioning of artefacts.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_versioning_system"><a class="anchor" href="#_git_versioning_system"></a>Git versioning system</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git <a href="#git">[git]</a> system and the public Git server GitHub <a href="#github">[github]</a> are frequently chosen technologies for version management in the context of the European Commission projects, and also the current one. In this section, we introduce technical concepts necessary to comprehend the following sections. <br>
Git is software for tracking changes in any set of files, usually used for coordinating work among programmers collaboratively developing source code during software development. This system can be used in virtually any context where the collaborative evolution of artefacts is organised in a filesystem. Its goals, among others, include speed, data integrity, and support for distributed, non-linear workflows. <br>
Git stores five types of objects. <br>
A <strong>blob</strong> (binary large object) is the content of a file. Blobs have no proper file name, time stamps, or other metadata. In Git each blob is a version of a file, it holds the file&#8217;s data.<br>
A <strong>tree</strong> object is the equivalent of a directory. It contains a list of file names, each with some type bits and a reference to a blob or tree object that is that file, symbolic link, or directory&#8217;s contents. These objects are a snapshot of the source tree.<br>
A <strong>commit</strong> object links tree objects together into history. It contains the name of a tree object (of the top-level source directory), a timestamp, a log message, and the names of zero or more parent commit objects.<br>
Additionally, Git manages named references to indicate locations of various commits. <br>
<strong>Branches</strong> are named references that are advanced automatically to the new commit when a commit is made on top of them. They are used to create another line of development from a trunk. By default, Git has a <em>master</em> branch, which serves as the trunk. Usually, a branch is created to work on a new feature. Once the feature is completed, it is merged back with the master branch and we delete the branch. <br>
<strong>Tags</strong> are like branch references but fixed to a particular commit. A tag assigns a meaningful name with a specific version in the repository. Used to label important points in history.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_op_context"><a class="anchor" href="#_op_context"></a>OP Context</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Assumptions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Git is used for managing textual and binary sources: textual sources can smoothly evolve and be tracked by Git; binary sources have to be rewritten each time and no evolution tracking is possible (hopefully changes are based on incremental evolution and not arbitrary)</p>
</li>
<li>
<p>The folder structure of the project is consistent and coherent in the evolution history and across the branches.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Requirements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Share the current API functionalities/capabilities or current model organisation/structure/approach</p>
</li>
<li>
<p>Allow comparing versions and detect immediately whether versions are compatible</p>
</li>
<li>
<p>Each major, minor and patch versions are published as separate tags.</p>
</li>
<li>
<p>Branches shall not be used for versioning but for specific functional purposes, such as individual bug fixing, individual new feature developments, etc.</p>
</li>
<li>
<p>Allow transition smoothly from one major version to the next one without disrupting the current clients. Clients shall be guaranteed to have no disruptions for a published version for an established time frame.</p>
</li>
<li>
<p>Clients that are unable to migrate to new versions might be supported.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_semantic_versioning"><a class="anchor" href="#_semantic_versioning"></a>Semantic versioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the world of software management, there exists a dreaded place called "dependency hell". This applies not only to software development but to authoring models, architecture, documentation, or, broadly, any artefact. The bigger the body of work grows (software, model, documentation etc.) the more changes are introduced and dependencies increased, which makes it more likely to arrive, one day, in this pit of despair.<br>
Releasing a new work package quickly becomes a nightmare. If the dependency specifications are too tight, you are in danger of version lock (the inability to upgrade a package without having to release new versions of every dependent package). If dependencies are specified too loosely, you will inevitably be bitten by version promiscuity (assuming compatibility with more future versions than is reasonable). Dependency hell is where you are when version lock and/or version promiscuity prevent you from easily and safely moving your project forward. <a href="#semver">[semver]</a> <br>
A solution to this problem is called "Semantic Versioning" <a href="#semver">[semver]</a>, which is a simple set of rules and requirements that dictate how version numbers are assigned and incremented. It involves describing clearly and precisely what is being published and which features are included and what are the limitations, basically setting the expectations and scope. Once the artefacts are identified for the public, you communicate changes to them with specific increments to your version number and eventually with associated change notes.</p>
</div>
<div class="quoteblock text-center">
<blockquote>
<em>X.Y.Z (Major.Minor.Patch)</em>
</blockquote>
</div>
<div class="paragraph">
<p>Consider a version format of X.Y.Z (Major.Minor.Patch). Bug fixes not affecting the artefact increment the patch version. Backwards compatible artefact additions/changes increment the minor version. And, backwards-incompatible artefact changes increment the major version. For details refer to <a href="#semver">[semver]</a> specification. Under this scheme version numbers and the way they change convey meaning about the underlying artefact and what has been modified from one version to the next.<br>
 <a href="#sem-version">Figure 1</a> depicts an example of how the changes in version number shall be interpreted under the semantic versioning scheme. For example, evolving from version 1.3.5 to 1.3.6 represents a backwards-compatible patch, from 1.3.5 to 1.4.0 a backwards-compatible new development, while switching from 1.3.5 to 2.0.0 breaks the backwards compatibility.</p>
</div>
<div id="sem-version" class="imageblock text-center">
<div class="content">
<img src="_images/git-methodology/semantic_versioning.png" alt="semantic versioning" width="70%">
</div>
<div class="title">Figure 1. Backwards compatibility in semantic versioning scheme</div>
</div>
<div class="paragraph">
<p>Adopting semantic versioning has a number of advantages <a href="#despat">[despat]</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Accuracy and exact identification of artefact versions</p>
</li>
<li>
<p>Traceability of artefact evolution in use for governance</p>
</li>
<li>
<p>Minimizing impact on the client-side caused by artefact changes</p>
</li>
<li>
<p>Guaranteeing that artefact changes do not lead to accidentally breaking compatibility on the semantic level</p>
</li>
<li>
<p>Minimal effort to detect version incompatibility</p>
</li>
<li>
<p>Clear separation of changes with different levels of impact and compatibility</p>
</li>
<li>
<p>Clarity with regard to evolution timeline of the artefact</p>
</li>
<li>
<p>Manageability of artefact versions and related governance effort (e.g., approval processes, quality gates, number of parallel versions, number of branches of artefact versions)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_workflows"><a class="anchor" href="#_git_workflows"></a>Git workflows</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Git is a very flexible system that is method agnostic. A set of good practices, however, was developed over time and became widely accepted across communities of practitioners. In this section, we present a set of relevant Git workflows and branching strategies.</p>
</div>
<div class="sect2">
<h3 id="_basics_branching"><a class="anchor" href="#_basics_branching"></a>Basics branching</h3>
<div class="paragraph">
<p>When committing a change, it is always best to avoid doing that on the master. For instance, if the task is to add a new feature to the project, then a new branch shall be created just for that feature without affecting the main part of the project. Once the feature implementation is completed, the changes on that branch can be merged into the master branch. This is depicted in <a href="#basic-flow">Figure 2</a>.<br>
When a new branch is created, Git keeps track of which commit is branched off into a new branch. So the history of changes for all the files is well tracked.</p>
</div>
<div id="basic-flow" class="imageblock text-center">
<div class="content">
<img src="_images/git-methodology/git-basic-flow.png" alt="basic" width="80%">
</div>
<div class="title">Figure 2. Basic branching flow with pull request</div>
</div>
<div class="paragraph">
<p>The contributor makes changes locally on a support branch (for example a feature) and when the work is complete, the changes are all pushed into the remote repository.  Then the contributor files a pull request, which means that before merging the branch into the master branch, the changes must be revised by peers. This process usually generates a number of improvement suggestions, which result in a series of additional minor commits. Using pull requests is a best practice generally adopted for ensuring a higher quality of work. When the pull request is accepted, the branch author or the repository maintainer merges the branch into the master or development branch, depending on the branching strategy. The pull request is closed and the feature branch is deleted from the repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contribution_types"><a class="anchor" href="#_contribution_types"></a>Contribution types</h3>
<div class="paragraph">
<p><strong>Typical contribution</strong> - The typical day-to-day flow includes normal changes that contributors make to the codebase, changes that do not bring any heightened sense of urgency. These changes are ordinary in terms of size and complexity for your codebase and, generally, will make up the bulk of all the changes the contributors make. Since this flow will be used the most frequently, your strategy here must ensure proper coordination among the developers and support all relevant policies such as automated testing, pull requests, and deployments.</p>
</div>
<div class="paragraph">
<p><strong>Emergency hotfixes</strong> - An emergency hotfix is when a particular incident or issue has been expedited to deal with some emergent situation, normally bug fixes. Your flow must account for a contributor who needs to make an urgent change and get it all the way through your process and into production while still aligning with the typical development workflow.</p>
</div>
<div class="paragraph">
<p><strong>Simple vs complex changes</strong> - As the practice has evolved, the emphasis on contributors working on smaller changes and limited batch sizes has increased. This is due to the broader use of flow-based delivery practices. However, there are still situations when large, complex changes must be made and the branching strategy must accommodate those situations.</p>
</div>
<div class="paragraph">
<p><strong>Standard vs experimental changes</strong> - Contributors feel greater certainty about how standard code changes will perform than with experimental code changes. For example, if a new untested approach is evaluated, or an experimental feature is developed, the result is almost always uncertain about how well it integrates with the existing codebase. In that case, the changes may or may not actually go to production but still need to be shared with other contributors. The branching strategy must account for these types of experimental changes.</p>
</div>
</div>
<div class="sect2">
<h3 id="_branch_types"><a class="anchor" href="#_branch_types"></a>Branch types</h3>
<div class="paragraph">
<p>Typically the branches are divided into two categories, the main branches: master and development; and supporting branches: feature, hotfix, release. <br>
Any repository holds at least one main branch, and in the case a development branch is adopted then there are two main branches with an infinite lifetime. <br>
The branching strategy needs to support parallel work between contributors, ease tracking of features, prepare for production releases and to assist in quickly fixing live production problems. This is done with supporting branches. Unlike the main branches, these branches always have a limited lifetime, since they are removed after the work is completed.</p>
</div>
<div class="paragraph">
<p><strong>Master branch</strong> - Every Git repository has a trunk (also referred to as main, mainline, or the master branch). When a Git repository is created, the trunk exists automatically as the implicit first branch. The use of a trunk and the timing of changes landing on it vary depending on the exact branching strategy being used. In trunk-based development, the trunk is the central branch to which all developers send their code changes.</p>
</div>
<div class="paragraph">
<p><strong>Feature branch</strong> - A feature branch is used to develop a new feature. It can be short- or long-lived depending on the specific branching flow. The branch often is used by a single contributor for only their changes, but it is possible to share it with other contributors as well. Feature branches span from either the trunk or development branch depending on the branching strategy.</p>
</div>
<div class="paragraph">
<p><strong>Development branch</strong> (optional) - The development branch is a long-lived feature branch that holds changes made by contributors before they’re ready to go to production. It parallels the trunk and is never removed. Some teams have the development branch correspond with a non-production environment. As such, commits to the development branch trigger test environment deployments if automation is set up. Development and trunk are frequently bidirectionally integrated, and it’s typical for a contributor to bear the responsibility of integrating them. Some branching strategies avoid a development branch and span feature or hotfix branches directly from the trunk. This is decided by the branching strategy and in our case, we leave it out.</p>
</div>
<div class="paragraph">
<p><strong>Release branch</strong> - A release branch can be either short-lived or long-lived depending on the strategy. In either case, the release branch reflects a set of changes that are intended to go through the production release process. It usually involves, among others, increasing the version number, announcing a release, fixing last-minute bugs, but no new features are included.</p>
</div>
<div class="paragraph">
<p><strong>Hotfix branch</strong> - A hotfix branch is a branch that’s used generally to hold changes related to emergency bug fixes. They are typically short-lived and are split off from a release or main branch. These branches are common in projects with explicitly versioned artefacts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_naming_conventions"><a class="anchor" href="#_naming_conventions"></a>Naming conventions</h3>
<div class="paragraph">
<p>Consider the (branch_type/branch_id) naming convention for branches. The branch_type is one of the branch types used in the adopted branching strategy: <em>master, feature, hotfix, release</em>. The branch_id is a unique identifier. In cases where the development process is managed with a ticket management system, then the branch_id shall be the ticket id. Alternatively, branches can be given mnemonic identifiers, but doing so is discouraged as a regular practice.</p>
</div>
<div class="quoteblock text-center">
<blockquote>
<em>branch_type/branch_id</em>
</blockquote>
</div>
<div class="paragraph">
<p>So for example implementation of a feature registered under id "#32" in the ticket management system, shall be developed in the branch named "feature/32". Whereas bug "#45" shall be fixed in the branch named "hotfix/45". Preparation of release "0.5.0" shall be done in the branch named "release/0.5.0".</p>
</div>
<div class="quoteblock text-center">
<blockquote>
<em>vX.Y.X</em>
</blockquote>
</div>
<div class="paragraph">
<p>Tags on the other hand shall be named always by the semantic version scheme mentioned in the previous section. A good practice is to add the prefix "v" for "version" like this "vX.Y.X". For example, the release "0.5.1" shall be tagged with "v0.5.1".</p>
</div>
</div>
<div class="sect2">
<h3 id="_simplified_gitflow_model"><a class="anchor" href="#_simplified_gitflow_model"></a>Simplified Gitflow model</h3>
<div class="paragraph">
<p>The Gitflow model has been developed over 10 years <a href="#gitflow">[gitflow]</a> and is the result of crystallising Git usage best practices. It involves two main branches: master and development. In this section, we describe a simplified version of it, which uses only a single main branch: the master. <br>
<a href="#simple-gitflow">Figure 3</a> depicts a prototypical branch organisation covering the typical use cases presented in this report.</p>
</div>
<div id="simple-gitflow" class="imageblock text-center">
<div class="content">
<img src="_images/git-methodology/git-simplified-flow.png" alt="basic" width="97%">
</div>
<div class="title">Figure 3. Simplified Gitflow model</div>
</div>
<div class="sect3">
<h4 id="_developing_a_new_feature"><a class="anchor" href="#_developing_a_new_feature"></a>Developing a new feature</h4>
<div class="paragraph">
<p>New developments are done by branching off a new feature branch from the master, or occasionally from another feature branch. It is always merged back into the master and deleted as soon as the development is completed and revised in a pull request process. During the time of development, it may not be known when the feature will be released so it can be incorporated in the next or future versions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_releasing_a_new_version"><a class="anchor" href="#_releasing_a_new_version"></a>Releasing a new version</h4>
<div class="paragraph">
<p>To prepare a new release, create a branch named after its version. On this branch will be done the entire production release for a new version. This includes making last-minute adjustments and bug fixes, preparing the meta-data for release (version numbers, build dates, etc.), writing the release notes, etc. By doing all of this work on a release branch, the master branch is cleared to receive features for the next big release. <br>
The key moment to branch off a new release branch from the master is when it reflects the desired state of the new release, incorporating all the planned features. All features targeted at future releases must wait until after the release branch is branched off.<br>
Adding large new features here is strictly prohibited. They must be merged into master, and therefore, wait for the next big release.<br>
When the state of the release branch is ready to become a real release, some actions need to be carried out. First, the release branch is merged into master, and the release branch closed. Next, that commit on master must be tagged with the release version for easy future reference to this point in history.</p>
</div>
</div>
<div class="sect3">
<h4 id="_fixing_bugs"><a class="anchor" href="#_fixing_bugs"></a>Fixing bugs</h4>
<div class="paragraph">
<p>Hotfix branches are very much like release branches in that they are also meant to prepare for a new production release, albeit unplanned. They arise from the necessity to act immediately upon an undesired state of a released version. When a critical bug is discovered in the active version, and it must be resolved immediately, a hotfix branch may be branched off from the corresponding tag on the master branch that marks the production version.<br>
The essence is that the work of most contributors on the master branch can continue with the feature developments, while a dedicated person is preparing a quick production fix. When the bug is resolved, a new version is released incrementing the patch number only, and merging the changes into the master.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_evolution_patterns"><a class="anchor" href="#_evolution_patterns"></a>Evolution patterns</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_two_in_production"><a class="anchor" href="#_two_in_production"></a>Two in Production</h3>
<div class="paragraph">
<p>An artefact evolves and new versions with improved content or functionality are offered regularly. At some point in time, the decision to evolve to a new major version is taken and the changes of the new version are not backwards compatible anymore. This is a breaking evolution for existing clients. However, clients evolve at different speeds. Some of them cannot be forced to upgrade to the latest version in a short time frame. Their development and evolution pace is different and is based on their needs and requirements.<br>
As publishers, we need to ensure the possibility exists to gradually update an artefact without breaking existing clients, but also without having to maintain a large number of active versions. In the case of software development, this means running and maintaining multiple versions in production. In the case of ontologies, schemas and models this means maintaining multiple model versions published and officially declared as working standards.</p>
</div>
<div id="two-in-production" class="imageblock text-center">
<div class="content">
<img src="_images/git-methodology/two-in-production.png" alt="basic" width="90%">
</div>
<div class="title">Figure 4. Two in production evolution pattern</div>
</div>
<div class="paragraph">
<p>The solution is to maintain two versions of a model in parallel as working standards as depicted in <a href="#two-in-production">Figure 4</a>. These two model versions provide roughly the same domain coverage but are incompatible with each other because they implement different modelling decisions and approaches. <br>
Or, in the case of software products, deploy and support two versions of a software endpoint and its operations that provide variations of the same functionality, but do not have to be compatible with each other. <br>
After a grace period, the older version must be decommissioned. The result is continuous update and decommission of the versions in a rolling and overlapping fashion.<br>
To do so, choose the major versions that will be active in parallel (for example 2.x.x and 3.x.x) and inform the clients about the life cycle. When releasing the new artefact version into production or as a working standard, decommission the previous version and inform the clients about the update and migration options. This way a sliding window of active versions is created in which clients have time to evolve to the new one before the old one is decommissioned. Offer a limited time guarantee as explained in the next section.</p>
</div>
</div>
<div class="sect2">
<h3 id="_limited_lifetime_guarantee"><a class="anchor" href="#_limited_lifetime_guarantee"></a>Limited Lifetime Guarantee</h3>
<div class="paragraph">
<p>An artefact has been published and made available to at least one client. The publisher cannot manage or influence the evolution roadmaps of its clients, or the damage caused by forcing clients to change their implementation. Therefore, the publisher does not want to make any breaking changes in the active versions of the artefacts, but still wants to improve them and evolve them in the future.<br>
To do so the publisher has to let clients know for how long they can rely on the published version of an artefact. In addition, the publisher must guarantee to not break the published artefacts for a given fixed time frame. Typical time frames are multitudes of 6 months (6, 12, 18, or 24 months), which seems to provide a good balance for provider and client needs in practice.<br>
This pattern is used in combination with the previously described pattern of two (or more) active parallel versions for a limited time. On the one hand, this keeps the client safe from unwanted negative impacts or outages. On the other hand, this sets a well-known deadline in advance that the client can use to plan for a smooth transition to the new version.<br>
After the timeframe expires the old version can either be decommissioned or discontinued. That is, either the version is declared obsolete and its usage is discouraged; or, the version is simply no longer maintained.<br>
A consequence of this approach is that it is possible to plan it well due to fixed time windows known long in advance. This, however, limits the possibility to respond to urgent unforeseen changes. Also, clients are forced to update, which may conflict with their roadmap; while the clients that cannot migrate to the new version are abandoned, unless an additional service agreement is set in place for them.<br>
This strategy is a middle ground between two of its variations: (a) the eternal lifetime guarantee and (b) the aggressive obsolescence. We briefly summarize these variations in the next sections, and an alternative variation, the experimental preview. We, however, discourage adopting any of them.</p>
</div>
</div>
<div class="sect2">
<h3 id="_aggressive_obsolescence"><a class="anchor" href="#_aggressive_obsolescence"></a>Aggressive Obsolescence</h3>
<div class="paragraph">
<p>Once an artefact has been released, it evolves and new versions with added, removed or changed content or functionality are offered. In order to reduce effort, artefact providers do not want to support certain commitments for clients anymore, e.g., because they are no longer used regularly or are superseded by alternative versions.<br>
In order to reduce maintenance efforts to a minimum, the publisher announces a decommissioning date as early as possible for the obsolete artefacts. The publisher declares such artefacts to be immediately deprecated (i.e., still available, but no longer recommended to be used) so that clients have barely enough time to upgrade to a newer or alternative version. Artefact support is removed as soon as the deadline has passed.<br>
Such an approach may be considered disruptive and quite brutal by many clients. Therefore to acknowledge this and offer a balance of power between the publisher and client, for example,  involve the clients or give them the possibility to steer the artefact design and evolution. It can, for example, take the form of an evolution workgroup, standardisation committee or regular public consultations. <br>
The consequences of this approach are that the publisher codebase is kept small and thus easier to maintain. The publisher must announce which features are deprecated and when they will be decommissioned, while the clients must migrate to the new version. <br>
If saving costs is not an optimisation factor, but rather serving each client diligently is, then the next pattern proposes how to approach this.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eternal_lifetime_guarantee"><a class="anchor" href="#_eternal_lifetime_guarantee"></a>Eternal Lifetime Guarantee</h3>
<div class="paragraph">
<p>An artefact has been made available to at least one client. A new version is evolved and also published. However, one or more of the clients cannot be asked to upgrade to use the latest version.<br>
To support clients that are unwilling or unable to migrate to newer API versions at all, guarantee to never break or discontinue a published artefact version. <br>
This shall not mean, however, parallel developments. The new features and evolutions shall be done for the new versions of an artefact, while the old version may benefit from bug fixes, which ideally may be also ported into the new version. The development on the old versions shall stop, however, otherwise we reach the split point where the old version evolves differently based on the requirements of a few clients rather than the original artefact vision. And thus the two evolutions shall be maintained in different repositories because they are no longer parallel versions but distinct artefacts. <br>
The consequences of this approach are that the clients do not need to change while the publisher becomes more attractive because clients can expect the artefacts to remain available for a long time. On the downside, the innovation opportunities are lost and the technical debt accumulating on the publisher side, which leads to the increased maintenance costs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_experimental_preview"><a class="anchor" href="#_experimental_preview"></a>Experimental Preview</h3>
<div class="paragraph">
<p>A publisher is developing a new artefact version that differs significantly from the published version(s) and is still under intensive development. As a result, the publisher wants to be able to freely make any modifications necessary without any commitments to the clients. However, the publisher also wants to offer its clients early access so that these clients can start experimenting and integrating against the new artefact version and comment on the functionality and structure. This is in fact an approach in support of an iterative and incremental, or even agile, development process.<br>
The idea is to enable providers to share the experimental artefact version with the clients with minimal risks and also obtain early adopter feedback without having to freeze the development process.<br>
This can be done by providing early access to the artefact version in development on a best-effort basis without making any commitments about representation, structure or functionality offered, stability, and longevity. The lack of maturity and experimental nature must be clearly and explicitly articulated about this artefact version.<br>
This approach brings advantages for both clients and publishers. Clients have early access to innovation and the opportunity to influence the artefact design and development, thereby living according to agile values and principles such as welcoming change and responding to it continuously. Publishers have the flexibility to freely and rapidly change the artefact before declaring it stable. This, however, has a downside in that it may be difficult for providers to attract clients due to the lack of long term commitment or perceived immaturity. Clients have to keep changing their implementation if they do not run out of budget until a stable version is released.<br>
The experimental preview, which covers the pre-release guarantees, is complemented by an application of the two versions in production approach for governing the life cycle of active artefact versions. The experimental preview can either be made available to all known or unknown clients; alternatively, a closed user group can be selected for it, which limits the support and communication efforts.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>References</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="semver"></a>[semver] Preston-Werner, T. (n.d.). Semantic Versioning 2.0.0. Semantic Versioning. <a href="https://semver.org/" class="bare">https://semver.org/</a>.</p>
</li>
<li>
<p><a id="despat"></a>[despat] - Zimmermann, O., &amp; Stocker, M. (2021, March 15). Design Practice Reference. Leanpub. <a href="https://leanpub.com/dpr" class="bare">https://leanpub.com/dpr</a>.</p>
</li>
<li>
<p><a id="soar"></a>[soar] -  Pautasso, C. (2020, July 2). Software Architecture.  <a href="https://leanpub.com/software-architecture" class="bare">https://leanpub.com/software-architecture</a>.</p>
</li>
<li>
<p><a id="gitflow"></a>[gitflow] Dwaraki, A., Seetharaman, S., Natarajan, S., &amp; Wolf, T. (2015). GitFlow. Proceedings of the 1st ACM SIGCOMM Symposium on Software Defined Networking Research. <a href="https://doi.org/10.1145/2774993.2775064" class="bare">https://doi.org/10.1145/2774993.2775064</a></p>
</li>
<li>
<p><a id="git"></a>[git] Chacon, S., &amp; Straub, B. (2014). Pro git (p. 456). Springer Nature. <a href="https://library.oapen.org/bitstream/handle/20.500.12657/28155/1001839.pdf" class="bare">https://library.oapen.org/bitstream/handle/20.500.12657/28155/1001839.pdf</a></p>
</li>
<li>
<p><a id="github"></a>[github] Where the world builds software. GitHub. (n.d.). <a href="https://github.com/" class="bare">https://github.com/</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/docsearch-2.6.3.js"></script>
<script src="../_/js/vendor/search-algolia.js" id="search-script" data-api-key="7bd6f4bbe2cb3188cd99f1625cb00f75" data-api-id="BE8MR7O2G7" data-index-name="ted-docs-idx"></script>
<footer class="footer">
    <div class=columns>
        <div>
  <p>The projects documented in this Developer Documentation Portal are developed and managed by the TED & EU Public Procurement Unit of the Publications Office of the European Union
  <br/>This page was built using a link:https://github.com/OP-TED/antora-eui[fork of the Antora default UI], which is licensed under the terms of the MPL-2.0 license.</p>
</div>
        <div>
            <h3>This website is managed by<h3>
                    <img src="../_/img/op-logo-with-name.svg" class="logo" />
        </div>
    </div>
</footer>  </body>
</html>
